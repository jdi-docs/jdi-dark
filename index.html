
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#jdi-dark-framework" class="toc-h1 toc-link" data-title="JDI Dark Framework">JDI Dark Framework</a>
          </li>
          <li>
            <a href="#highlights" class="toc-h1 toc-link" data-title="Highlights">Highlights</a>
          </li>
          <li>
            <a href="#simple-jdi-dark-examples" class="toc-h1 toc-link" data-title="Simple JDI Dark examples">Simple JDI Dark examples</a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="#1-service-object-model" class="toc-h2 toc-link" data-title="1. Service Object Model">1. Service Object Model</a>
                    </li>
                    <li>
                      <a href="#2-create-simple-test-using-service-object" class="toc-h2 toc-link" data-title="2. Create simple test using Service Object">2. Create simple test using Service Object</a>
                    </li>
                    <li>
                      <a href="#3-create-tests-without-using-service-object" class="toc-h2 toc-link" data-title="3. Create tests without using Service Object">3. Create tests without using Service Object</a>
                    </li>
                    <li>
                      <a href="#4-query-parameters-headers-cookies-support" class="toc-h2 toc-link" data-title="4. Query Parameters, Headers, Cookies support">4. Query Parameters, Headers, Cookies support</a>
                    </li>
                    <li>
                      <a href="#5-performance-testing-support" class="toc-h2 toc-link" data-title="5. Performance testing support">5. Performance testing support</a>
                    </li>
              </ul>
          </li>
          <li>
            <a href="#tutorial" class="toc-h1 toc-link" data-title="Tutorial">Tutorial</a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="#1-quick-start" class="toc-h2 toc-link" data-title="1. Quick Start">1. Quick Start</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#maven-dependencies" class="toc-h2 h3 toc-link" data-title="Maven Dependencies">Maven Dependencies</a>
                              </li>
                              <li>
                                <a href="#configuration" class="toc-h2 h3 toc-link" data-title="Configuration">Configuration</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#2-jdi-dark-at-a-glance" class="toc-h2 toc-link" data-title="2. JDI Dark at a glance">2. JDI Dark at a glance</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#first-test-creation" class="toc-h2 h3 toc-link" data-title="First test creation">First test creation</a>
                              </li>
                              <li>
                                <a href="#running-test-examples" class="toc-h2 h3 toc-link" data-title="Running test examples">Running test examples</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#3-jdi-dark-service-objects" class="toc-h2 toc-link" data-title="3. JDI Dark Service Objects">3. JDI Dark Service Objects</a>
                    </li>
                    <li>
                      <a href="#4-jdi-dark-and-cucumber" class="toc-h2 toc-link" data-title="4. JDI Dark and Cucumber">4. JDI Dark and Cucumber</a>
                    </li>
                    <li>
                      <a href="#5-jdi-dark-and-soap" class="toc-h2 toc-link" data-title="5. JDI Dark and SOAP">5. JDI Dark and SOAP</a>
                    </li>
                    <li>
                      <a href="#api-testing-framework-structure" class="toc-h2 toc-link" data-title="API Testing Framework structure">API Testing Framework structure</a>
                    </li>
              </ul>
          </li>
          <li>
            <a href="#documentation" class="toc-h1 toc-link" data-title="Documentation">Documentation</a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="#framework-usage" class="toc-h2 toc-link" data-title="Framework usage">Framework usage</a>
                    </li>
                    <li>
                      <a href="#http-methods" class="toc-h2 toc-link" data-title="HTTP methods">HTTP methods</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#specifying-http-method" class="toc-h2 h3 toc-link" data-title="Specifying HTTP method">Specifying HTTP method</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#request-data" class="toc-h2 toc-link" data-title="Request Data">Request Data</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#request-body" class="toc-h2 h3 toc-link" data-title="Request body">Request body</a>
                              </li>
                              <li>
                                <a href="#path-parameters" class="toc-h2 h3 toc-link" data-title="Path parameters">Path parameters</a>
                              </li>
                              <li>
                                <a href="#query-parameters" class="toc-h2 h3 toc-link" data-title="Query parameters">Query parameters</a>
                              </li>
                              <li>
                                <a href="#simplified-query-parameters" class="toc-h2 h3 toc-link" data-title="Simplified Query parameters">Simplified Query parameters</a>
                              </li>
                              <li>
                                <a href="#form-parameters" class="toc-h2 h3 toc-link" data-title="Form parameters">Form parameters</a>
                              </li>
                              <li>
                                <a href="#multipart-parameters" class="toc-h2 h3 toc-link" data-title="Multipart parameters">Multipart parameters</a>
                              </li>
                              <li>
                                <a href="#using-request-data-object-as-a-parameter" class="toc-h2 h3 toc-link" data-title="Using Request Data object as a parameter">Using Request Data object as a parameter</a>
                              </li>
                              <li>
                                <a href="#requestspecification-configuration" class="toc-h2 h3 toc-link" data-title="RequestSpecification configuration">RequestSpecification configuration</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#tests-without-service-object" class="toc-h2 toc-link" data-title="Tests without Service Object">Tests without Service Object</a>
                    </li>
                    <li>
                      <a href="#tests-with-service-object" class="toc-h2 toc-link" data-title="Tests with Service Object">Tests with Service Object</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#create-service" class="toc-h2 h3 toc-link" data-title="Create service">Create service</a>
                              </li>
                              <li>
                                <a href="#create-tests-for-service" class="toc-h2 h3 toc-link" data-title="Create tests for service">Create tests for service</a>
                              </li>
                              <li>
                                <a href="#use-predefined-restspecification" class="toc-h2 h3 toc-link" data-title="Use predefined RestSpecification">Use predefined RestSpecification</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#working-with-objects" class="toc-h2 toc-link" data-title="Working with objects">Working with objects</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#setup-object-mapper" class="toc-h2 h3 toc-link" data-title="Setup Object Mapper">Setup Object Mapper</a>
                              </li>
                              <li>
                                <a href="#using-objects-in-tests" class="toc-h2 h3 toc-link" data-title="Using objects in tests">Using objects in tests</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#error-handling" class="toc-h2 toc-link" data-title="Error handling">Error handling</a>
                    </li>
                    <li>
                      <a href="#logging" class="toc-h2 toc-link" data-title="Logging">Logging</a>
                    </li>
                    <li>
                      <a href="#response-data" class="toc-h2 toc-link" data-title="Response data">Response data</a>
                    </li>
                    <li>
                      <a href="#headers" class="toc-h2 toc-link" data-title="Headers">Headers</a>
                    </li>
                    <li>
                      <a href="#cookies" class="toc-h2 toc-link" data-title="Cookies">Cookies</a>
                    </li>
                    <li>
                      <a href="#proxy" class="toc-h2 toc-link" data-title="Proxy">Proxy</a>
                    </li>
                    <li>
                      <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                    </li>
                    <li>
                      <a href="#parallel-running" class="toc-h2 toc-link" data-title="Parallel running">Parallel running</a>
                    </li>
                    <li>
                      <a href="#performance-testing" class="toc-h2 toc-link" data-title="Performance testing">Performance testing</a>
                    </li>
                    <li>
                      <a href="#reporting" class="toc-h2 toc-link" data-title="Reporting">Reporting</a>
                    </li>
                    <li>
                      <a href="#retry-request-option" class="toc-h2 toc-link" data-title="Retry Request Option">Retry Request Option</a>
                    </li>
                    <li>
                      <a href="#service-parameterization" class="toc-h2 toc-link" data-title="Service parameterization">Service parameterization</a>
                    </li>
                    <li>
                      <a href="#access-restassured" class="toc-h2 toc-link" data-title="Access RestAssured">Access RestAssured</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#accessing-restassured-config" class="toc-h2 h3 toc-link" data-title="Accessing RestAssured.config">Accessing RestAssured.config</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#jdi-dark-bdd-steps" class="toc-h2 toc-link" data-title="JDI Dark BDD Steps">JDI Dark BDD Steps</a>
                    </li>
                    <li>
                      <a href="#websockets" class="toc-h2 toc-link" data-title="WebSockets">WebSockets</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#jdi-dark-methods-for-websockets" class="toc-h2 h3 toc-link" data-title="JDI Dark methods for WebSockets">JDI Dark methods for WebSockets</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#soap" class="toc-h2 toc-link" data-title="SOAP">SOAP</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#creating-service-object" class="toc-h2 h3 toc-link" data-title="Creating Service Object">Creating Service Object</a>
                              </li>
                              <li>
                                <a href="#creating-objects" class="toc-h2 h3 toc-link" data-title="Creating Objects">Creating Objects</a>
                              </li>
                              <li>
                                <a href="#jdi-dark-methods-for-soap" class="toc-h2 h3 toc-link" data-title="JDI Dark Methods for SOAP">JDI Dark Methods for SOAP</a>
                              </li>
                              <li>
                                <a href="#creating-tests" class="toc-h2 h3 toc-link" data-title="Creating tests">Creating tests</a>
                              </li>
                          </ul>
                    </li>
                    <li>
                      <a href="#review-guide" class="toc-h2 toc-link" data-title="Review Guide">Review Guide</a>
                          <ul class="toc-list-h2">
                              <li>
                                <a href="#easy-way-to-pass-review" class="toc-h2 h3 toc-link" data-title="Easy way to pass review">Easy way to pass review</a>
                              </li>
                              <li>
                                <a href="#short-checklist" class="toc-h2 h3 toc-link" data-title="Short checklist">Short checklist</a>
                              </li>
                              <li>
                                <a href="#detailed-list" class="toc-h2 h3 toc-link" data-title="Detailed list">Detailed list</a>
                              </li>
                              <li>
                                <a href="#recommended-tools" class="toc-h2 h3 toc-link" data-title="Recommended tools">Recommended tools</a>
                              </li>
                              <li>
                                <a href="#using-libraries" class="toc-h2 h3 toc-link" data-title="Using libraries">Using libraries</a>
                              </li>
                              <li>
                                <a href="#intellij-idea-preferences" class="toc-h2 h3 toc-link" data-title="Intellij IDEA Preferences">Intellij IDEA Preferences</a>
                              </li>
                              <li>
                                <a href="#cvs-section" class="toc-h2 h3 toc-link" data-title="CVS section">CVS section</a>
                              </li>
                              <li>
                                <a href="#code-style" class="toc-h2 h3 toc-link" data-title="Code style">Code style</a>
                              </li>
                          </ul>
                    </li>
              </ul>
          </li>
          <li>
            <a href="#jdi-dark-generators" class="toc-h1 toc-link" data-title="JDI Dark Generators">JDI Dark Generators</a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="#rest-objects-generation-from-swagger" class="toc-h2 toc-link" data-title="REST objects generation from Swagger">REST objects generation from Swagger</a>
                    </li>
                    <li>
                      <a href="#soap-objects-generation-from-wsdl" class="toc-h2 toc-link" data-title="SOAP objects generation from WSDL">SOAP objects generation from WSDL</a>
                    </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.facebook.com/groups/jdi.framework/' target="_blank">Facebook</a></li>
            <li><a href='https://github.com/jdi-testing/jdi-dark' target="_blank">Github</a></li>
            <li><a href='https://join.skype.com/u2Cel0MWHkAO' target="_blank">Skype EN</a></li>
            <li><a href='https://join.skype.com/clvyVvnZvWqc' target="_blank">Skype RU</a></li>
            <li><a href="mailto:roman.iovlev.jdi@gmail.com?Subject=JDI question" target="_blank">Send Mail</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='jdi-dark-framework'>JDI Dark Framework</h1>
<p>JDI Dark is a simple test automation framework for web service testing powered by REST Assured.</p>
<h1 id='highlights'>Highlights</h1>
<ul>
<li>Obvious Service Object Model that helps to reduce test development effort and increase its speed</li>
<li>REST and SOAP web service design support</li>
<li>Extended capabilities of REST Assured framework with all its features kept</li>
<li>Simple interface for sending requests and response analysis</li>
<li>Automated service objects generation both for REST and SOAP</li>
<li>Support of the BDD approach</li>
<li>Retrying of failed tests with specified number of attempts</li>
<li>Detailed logging of requests and responses in JSON format which can be used in your reports</li>
</ul>
<h1 id='simple-jdi-dark-examples'>Simple JDI Dark examples</h1><h2 id='1-service-object-model'>1. Service Object Model</h2><pre class="highlight java tab-java"><code><span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"http://httpbin.org/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServiceExample</span> <span class="o">{</span> 
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">getInfo</span><span class="o">;</span>
    <span class="nd">@POST</span><span class="o">(</span><span class="s">"/post"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">post</span><span class="o">;</span>
    <span class="nd">@PUT</span><span class="o">(</span><span class="s">"/put"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">put</span><span class="o">;</span>
    <span class="nd">@PATCH</span><span class="o">(</span><span class="s">"/patch"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">patch</span><span class="o">;</span>
    <span class="nd">@DELETE</span><span class="o">(</span><span class="s">"/delete"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">delete</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
<p>JDI Dark provides capability to describe your API as a simple Service Object.
That allows you to unify and combine your REST methods and endpoints in one class
(similar to UI Page Object pattern).</p>

<p>Let&#39;s say we have a website for REST testing located at the following address: <a href="http://httpbin.org/">http://httpbin.org</a> and we need to test some of its endpoints.
We can create a Java class and describe the methods we want to test.</p>

<p><em>Isn&#39;t that simple?</em></p>
<h2 id='2-create-simple-test-using-service-object'>2. Create simple test using Service Object</h2><pre class="highlight java tab-java"><code><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">simpleRestTest</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">ServiceExample</span><span class="o">.</span><span class="na">getInfo</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
    <span class="n">resp</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span>
      <span class="n">body</span><span class="o">(</span><span class="s">"url"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"http://httpbin.org/get"</span><span class="o">)).</span>
      <span class="n">body</span><span class="o">(</span><span class="s">"headers.Host"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"httpbin.org"</span><span class="o">)).</span>
      <span class="n">body</span><span class="o">(</span><span class="s">"headers.Id"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Test"</span><span class="o">));</span>
    <span class="n">resp</span><span class="o">.</span><span class="na">assertThat</span><span class="o">().</span><span class="na">header</span><span class="o">(</span><span class="s">"Connection"</span><span class="o">,</span> <span class="s">"keep-alive"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
<p>Based on the Service Object class we created before, we can create a simple test to execute the HTTP GET method and validate the response body.</p>

<ol>
<li>Make a request call to the HTTP method described in your Service Object class.</li>
<li>Validate the response body.</li>
</ol>

<p>The HTTP GET method described in the service class is being called here. Next, the response is being validated.</p>

<p>You can check other tests by following the link:</p>

<p><a href="https://github.com/jdi-testing/jdi-dark/tree/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples">JDI Dark test examples</a></p>
<h2 id='3-create-tests-without-using-service-object'>3. Create tests without using Service Object</h2><pre class="highlight java tab-java"><code><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">noServiceObjectTest</span><span class="o">(){</span>
    <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">GET</span><span class="o">(</span><span class="n">requestData</span><span class="o">(</span>
      <span class="n">rd</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="n">rd</span><span class="o">.</span><span class="na">url</span><span class="o">=</span><span class="s">"http://httpbin.org/get"</span><span class="o">;</span>
           <span class="n">rd</span><span class="o">.</span><span class="na">headers</span><span class="o">=</span><span class="k">new</span> <span class="n">MapArray</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Object</span><span class="o">[][]{</span>
              <span class="o">{</span><span class="s">"Name"</span><span class="o">,</span><span class="s">"Roman"</span><span class="o">},</span>
              <span class="o">{</span><span class="s">"Id"</span><span class="o">,</span><span class="s">"TestTest"</span><span class="o">}</span>
           <span class="o">});}</span>
      <span class="o">));</span>
<span class="o">}</span>
</code></pre>
<p>As it has been mentioned, you are still able to write tests without using Service Object model.
It is possible to call HTTP methods directly from your tests. You just need to provide required information within method arguments.</p>

<p>In this test we are making an HTTP GET request with invoked request data containing URL and headers.</p>
<h2 id='4-query-parameters-headers-cookies-support'>4. Query Parameters, Headers, Cookies support</h2><pre class="highlight java tab-java"><code><span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">)</span>
<span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">getInfo</span><span class="o">;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"param1"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">)</span>
<span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"param2"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">)</span>
<span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">getInfo</span><span class="o">;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Name"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Roman"</span><span class="o">)</span>
<span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Id"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Test"</span><span class="o">)</span>
<span class="nd">@Cookie</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"session_id"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"1234"</span><span class="o">)</span>
<span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">getInfo</span><span class="o">;</span>
</code></pre>
<p>JDI Dark has support for query parameters, you can specify them in your service class.
You just need to use the <em>@QueryParameter</em> annotation in your method or service class description.</p>

<p>If you need to specify several query parameters, do it with the <em>@QueryParameters</em> annotation.</p>

<p>The same way you can specify headers and cookies. JDI Dark has a special annotation for them as well.</p>
<h2 id='5-performance-testing-support'>5. Performance testing support</h2><pre class="highlight java tab-java"><code> <span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">simplePerformanceTest</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">PerformanceResult</span> <span class="n">pr</span> <span class="o">=</span> <span class="n">loadService</span><span class="o">(</span><span class="mi">3600</span><span class="o">,</span> <span class="n">getInfo</span><span class="o">);</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Average time: "</span> <span class="o">+</span> <span class="n">pr</span><span class="o">.</span><span class="na">AverageResponseTime</span> <span class="o">+</span> <span class="s">"ms"</span><span class="o">);</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Requests amount: "</span> <span class="o">+</span> <span class="n">pr</span><span class="o">.</span><span class="na">NumberOfRequests</span><span class="o">);</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">pr</span><span class="o">.</span><span class="na">NoFails</span><span class="o">(),</span> <span class="s">"Number of fails: "</span> <span class="o">+</span> <span class="n">pr</span><span class="o">.</span><span class="na">NumberOfFails</span><span class="o">);</span> 
<span class="o">}</span>
</code></pre>
<p>JDI Dark supports measuring request time.</p>

<p>You can call your service multiple times and get verbose results.</p>

<p>You can also load your service and analyse response time.</p>
<h1 id='tutorial'>Tutorial</h1>
<p>In this tutorial we’ll take a glance at JDI Dark, a library that simplifies test automation, makes test run results stable, predictable and easy to maintain.</p>

<ol>
<li><strong>Quick Start</strong> - a short instruction on how to add JDI Dark to your project and perform its basic configuration.</li>
<li><strong>JDI Dark at a glance</strong> -  a simple example for creating test cases for REST services with JDI Dark. </li>
<li><strong>JDI Dark Service Objects</strong> - a Service Object class description</li>
<li><strong>JDI Dark and Cucumber</strong> -  a short instruction on how to create cucumber feature files with JDI Dark.</li>
<li><strong>JDI Dark and SOAP</strong> -  a short instruction on how to create test cases for SOAP with JDI Dark.</li>
</ol>
<h2 id='1-quick-start'>1. Quick Start</h2><h3 id='maven-dependencies'>Maven Dependencies</h3><pre class="highlight java tab-java"><code><span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">com</span><span class="o">.</span><span class="na">epam</span><span class="o">.</span><span class="na">jdi</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">jdi</span><span class="o">-</span><span class="n">dark</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;{</span><span class="n">RELEASE</span><span class="o">}&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
</code></pre>
<p>First, we need to add JDI Dark to the dependency section of our pom.xml file.
The latest version can be found in <a href="https://search.maven.org/classic/#search%7Cga%7C1%7Cjdi-dark" target="_blank">the Maven Central Repository</a>.</p>
<h3 id='configuration'>Configuration</h3>
<p>For configuration project create <strong>test.properties file</strong> on path <strong>src/test/resources</strong>.</p>

<p>Let’s look at them:</p>
<pre class="highlight java tab-java"><code><span class="n">domain</span><span class="o">=</span><span class="n">local</span><span class="o">=</span><span class="nl">http:</span><span class="c1">//localhost:8080, trello=https://api.trello.com/1</span>
<span class="n">log</span><span class="o">.</span><span class="na">level</span><span class="o">=</span><span class="n">WARNING</span>
</code></pre>
<ul>
<li><strong>domain</strong> - there is several options how specify domain:</li>
</ul>

<p><strong>-</strong> Specify one domain - <em>domain=URI</em>. Than you can use this setting in service domain annotation in this way:  <em>@ServiceDomain(&quot;${domain}&quot;)</em>, <em>@ServiceDomain(&quot;${nameDomain2}&quot;)</em></p>

<p><strong>-</strong> Specify list of domains - <em>domain=nameDomain=URI, nameDomain2=URI</em>. Than you can use this variables in service domain annotation in this way:  <em>@ServiceDomain(&quot;${nameDomain}&quot;)</em>, <em>@ServiceDomain(&quot;${nameDomain2}&quot;)</em>     </p>

<p><strong>-</strong> If you don&#39;t specify domain here, you must directly specify your base URI in this way <em>@ServiceDomain(&quot;https://api.trello.com/1&quot;)</em>  </p>

<ul>
<li><strong>log.level</strong> - you can set one of options - INFO, WARNING, OFF, FATAL, ERROR, STEP, DEBUG, TRACE, ALL</li>
</ul>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/resources/test.properties" target="_blank">See example on GitHub</a>.</p>
<h2 id='2-jdi-dark-at-a-glance'>2. JDI Dark at a glance</h2><pre class="highlight java tab-java"><code><span class="c1">//STEP 1 Creating class describing Board object with needed fields   </span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Board</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">id</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="n">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span><span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">name</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span><span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;}</span>
<span class="o">}</span>


<span class="c1">//STEP 2 Creating class Service Object Model</span>
<span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"${trello}"</span><span class="o">)</span>
<span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"key"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"3445103a21ddca2619eaceb0e833d0db"</span><span class="o">)</span>
<span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"token"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"a9b951262e529821308e7ecbc3e4b7cfb14a24fef5ea500a68c69d374009fcc0"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrelloService</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">BOARDS</span> <span class="o">=</span> <span class="s">"/boards"</span><span class="o">;</span>

    <span class="nd">@ContentType</span><span class="o">(</span><span class="n">JSON</span><span class="o">)</span>
    <span class="nd">@POST</span><span class="o">(</span><span class="n">BOARDS</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span><span class="o">&lt;</span><span class="n">Board</span><span class="o">&gt;</span> <span class="n">boardsPost</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Board</span> <span class="nf">createBoard</span><span class="o">(</span><span class="n">Board</span> <span class="n">board</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">boardsPost</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">board</span><span class="o">,</span> <span class="n">Board</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">//STEP 3 Creating class for generating needed data</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrelloDataGenerator</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Board</span> <span class="nf">generateBoard</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Board</span><span class="o">();</span>
        <span class="n">board</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"JDI Test Board number "</span> <span class="o">+</span> <span class="k">new</span> <span class="n">Random</span><span class="o">().</span><span class="na">nextInt</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">));</span>
        <span class="k">return</span> <span class="n">board</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="c1">//STEP 4 Creating  test class</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrelloTests</span> <span class="o">{</span>

    <span class="nd">@BeforeClass</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initService</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">init</span><span class="o">(</span><span class="n">TrelloService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">createCardInBoard</span><span class="o">()</span> <span class="o">{</span>    
        <span class="n">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="n">TrelloDataGenerator</span><span class="o">.</span><span class="na">generateBoard</span><span class="o">();</span>
        <span class="n">Board</span> <span class="n">createdBoard</span> <span class="o">=</span> <span class="n">TrelloService</span><span class="o">.</span><span class="na">createBoard</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
        <span class="n">Board</span> <span class="n">gotBoard</span> <span class="o">=</span> <span class="n">TrelloService</span><span class="o">.</span><span class="na">getBoard</span><span class="o">(</span><span class="n">createdBoard</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">gotBoard</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="n">createdBoard</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="s">"Name of created board is incorrect"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre><h3 id='first-test-creation'>First test creation</h3>
<p>In this example we create test for Trello <em>/boards/</em> endpoint. You can familiarize with  Trello API  <a href="https://developers.trello.com/reference/#boardsid" target="_blank">here</a>.</p>

<p><br/>
<strong>1. Create class describing REST object</strong> </p>

<p>Create class for <a href="https://developers.trello.com/reference/#board-object" target="_blank">board object</a> with needed fields. Create get and set methods for these fields.  </p>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/dto/Board.java" target="_blank">See example class for Card Object</a>.</p>

<p><br/>
<strong>2. Create  service class with Rest methods</strong> </p>

<p>-Specify BaseURI service by using @ServiceDomain(&quot;${trello}&quot;) annotation before class </p>

<p>-Specify credentials via @QueryParameters - set  @QueryParameter key and token</p>

<p>-Describe <a href="https://developers.trello.com/reference/#boardsid" target="_blank">trello endpoint for creating board</a>:</p>

<ul>
<li><p>Add RestMethod<Board> boardsPos method</p></li>
<li><p>Create method createBoard for transfer and getting Board object in RestMethod  </p></li>
<li><p>User annotation @POST(BOARDS) for specific post endpoint</p></li>
<li><p>Use annotation @ContentType(JSON) for specific sending content-type</p></li>
</ul>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/httptests/TrelloService.java" target="_blank">See example class for TrelloService </a>.<br>
<br/><br>
<strong>3.If you need - create class helper for generating data</strong> </p>

<p>In our example we created TrelloDataGenerator class which contains  method for generating Trello board</p>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/utils/TrelloDataGenerator.java" target="_blank">See example class for generating Trello data</a>.</p>

<p><br/>
<strong>4. Create test class</strong><br>
1.Initialize your service class in @BeforeClass</p>

<p>2.Add test methods</p>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/entities/TrelloTests.java" target="_blank">See test case example</a>.</p>
<h3 id='running-test-examples'>Running test examples</h3>
<p>You can see and run various examples test cases in <a href="https://github.com/jdi-testing/jdi-dark/tree/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests" target="_blank">JDI DARK project </a>.
Before first run test cases, execute maven commands:</p>

<p><strong>mvn clean</strong><br/>
<strong>mvn compile</strong></p>
<h2 id='3-jdi-dark-service-objects'>3. JDI Dark Service Objects</h2>
<p>JDI Dark provides describing web service as a Service Object class, what allows to make well-structure clear code.
  So it is easy to create maintained and well-readable tests. See Tests with Service Object documentation <a href="https://jdi-docs.github.io/jdi-dark/#tests-with-service-object">here</a>.</p>
<h2 id='4-jdi-dark-and-cucumber'>4. JDI Dark and Cucumber</h2><pre class="highlight java tab-java"><code><span class="c1">//STEP 1 Service Object Model class creation</span>
<span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"http://httpbin.org/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServiceExample</span> <span class="o">{</span>
    <span class="nd">@ContentType</span><span class="o">(</span><span class="n">JSON</span><span class="o">)</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span>
    <span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Name"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Roman"</span><span class="o">)</span>
    <span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Id"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Test"</span><span class="o">)</span>
    <span class="n">RestMethod</span> <span class="n">getMethod</span><span class="o">;</span>

    <span class="nd">@ContentType</span><span class="o">(</span><span class="n">JSON</span><span class="o">)</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span>
    <span class="n">RestMethod</span> <span class="n">get</span><span class="o">;</span>

    <span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Type"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Test"</span><span class="o">)</span>
    <span class="nd">@POST</span><span class="o">(</span><span class="s">"/post"</span><span class="o">)</span>
    <span class="n">RestMethod</span> <span class="n">postMethod</span><span class="o">;</span>

    <span class="nd">@PUT</span><span class="o">(</span><span class="s">"/put"</span><span class="o">)</span>
    <span class="n">RestMethod</span> <span class="n">putMethod</span><span class="o">;</span>
    <span class="nd">@PATCH</span><span class="o">(</span><span class="s">"/patch"</span><span class="o">)</span>
    <span class="n">RestMethod</span> <span class="n">patch</span><span class="o">;</span>
    <span class="nd">@DELETE</span><span class="o">(</span><span class="s">"/delete"</span><span class="o">)</span>
    <span class="n">RestMethod</span> <span class="n">delete</span><span class="o">;</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/status/{status}"</span><span class="o">)</span>
    <span class="n">RestMethod</span> <span class="n">status</span><span class="o">;</span>
<span class="o">}</span>
</code></pre><pre class="highlight gherkin tab-gherkin"><code><span class="c">#STEP 2, 4 Feature file creation (pre-created steps from JDI Dark BDD are used here)</span>
<span class="kd">Feature</span><span class="p">:</span> Json response check

  <span class="kn">Scenario</span><span class="p">:</span> Check json response
    <span class="nf">Given</span> init service example
    <span class="nf">And</span> set request content type to 'JSON'
    <span class="nf">When</span> perform 'getMethod' request
    <span class="nf">Then</span> response status type is OK
    <span class="nf">And</span> response body has values
      <span class="p">|</span> <span class="nv">url</span>          <span class="p">|</span> <span class="nv">http://httpbin.org/get</span> <span class="p">|</span>
      <span class="p">|</span> <span class="n">headers.Host</span> <span class="p">|</span> <span class="n">httpbin.org</span>            <span class="p">|</span>
    <span class="nf">And</span> response header <span class="s">"Connection"</span> is <span class="s">"keep-alive"</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">//STEP 3 TestRunner creation (TestNG example)</span>
<span class="nd">@CucumberOptions</span><span class="o">(</span><span class="n">features</span> <span class="o">=</span> <span class="s">"src/test/resources/features/"</span><span class="o">,</span>
        <span class="n">glue</span> <span class="o">=</span> <span class="o">{</span><span class="s">"com/epam/jdi/httptests/steps"</span><span class="o">,</span> <span class="s">"com/epam/jdi/http/stepdefs/en"</span><span class="o">},</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="o">{</span><span class="s">"@smoke"</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HttpTestsRunner</span> <span class="kd">extends</span> <span class="n">AbstractTestNGCucumberTests</span> <span class="o">{</span>
<span class="o">}</span>

</code></pre>
<p>In this example we create tests for simple HTTP Request &amp; Response Service. You can familiarize with API <a href="http://httpbin.org/" target="_blank">here</a>.</p>

<p><br/>
<strong>1. Create  service class with Rest methods</strong> </p>

<p>-Specify BaseURI service by using @ServiceDomain(&quot;http://httpbin.org/&quot;) annotation before class </p>

<p>-Describe endpoints using annotations:</p>

<ul>
<li><p>Add necessary RestMethod methods (@POST, @GET, @PUT, @PATCH and @DELETE)</p></li>
<li><p>Use annotation @Headers, @Header for specific headers</p></li>
<li><p>Use annotation @ContentType for specific content-type</p></li>
<li><p>Use other necessary annotation as described <a href="https://jdi-docs.github.io/jdi-dark/#tests-with-service-object" target="_blank">here</a>.</p></li>
</ul>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-bdd-tests/src/main/java/com/epam/jdi/services/ServiceExample.java" target="_blank">See example for Service Object class</a>.<br>
<br/></p>

<p><strong>2. Create feature files</strong></p>

<ul>
<li>Create folder to have all *.feature files in place. Recommended to store in src/test/resources. But can be changed via @CucumberOptions -&gt; ‘feature’ attribute</li>
</ul>

<p><a href="https://github.com/jdi-testing/jdi-dark/tree/master/jdi-dark-bdd-tests/src/test/resources/features" target="_blank">See examples for feature files</a>.<br>
<br/></p>

<p><strong>3. Create TestRunner class (JDI Dark support both TestNG and Junit)</strong></p>

<p>Specify additional options/custom properties via @CucumberOptions (‘strict’, tags’, ‘plugin’, ‘features’, ‘glue’, ‘format’ are mostly used).
For more details on @CucumberOptions and configs check cucumber documentation <a href="https://cucumber.io/docs/cucumber/api/" target="_blank">here</a>.<br>
<br/>
Junit TestRunner example <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-bdd-tests/src/test/java/com/epam/jdi/httptests/CucumberTestRunner.java" target="_blank">here</a>.
<br/></p>

<p>TestNG TestRunner example <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-bdd-tests/src/test/java/com/epam/jdi/httptests/HttpTestsRunner.java" target="_blank">here</a>.<br>
<br/></p>

<p><strong>4. Create step definitions in java</strong></p>

<ul>
<li>Use pre-created <a href="https://jdi-docs.github.io/jdi-dark/#jdi-dark-bdd-steps" target="_blank">JDI Dark BDD Steps</a>.</li>
</ul>

<p>Check all pre-created JDI Dark BDD steps <a href="https://github.com/jdi-testing/jdi-dark/tree/master/jdi-dark-bdd/src/main/java/com/epam/jdi/http/stepdefs/en" target="_blank">here</a>.</p>

<ul>
<li>Also, you can add your own steps. Create a package for step definitions in java.</li>
</ul>

<p>Check the example <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-bdd-tests/src/test/java/com/epam/jdi/httptests/steps/InitService.java" target="_blank">here</a>.</p>

<p><strong>5. Install plugin for relevant IDEA</strong></p>

<p>Go File-&gt;Settings--&gt;Plugins and double check the plugin installation. Then you can manage cucumber plugin as shown below This should redirect you to step definition when you click your test.</p>

<p><strong>6. Create scenario description in Gherkin in feature file.</strong></p>

<p>You can see the various examples of feature files <a href="https://github.com/jdi-testing/jdi-dark/tree/master/jdi-dark-bdd-tests/src/test/resources/features" target="_blank">here</a>.</p>

<p><strong>7. Run the tests via any available option</strong></p>

<ul>
<li><p>CLI</p></li>
<li><p>maven plugin</p></li>
<li><p>jUnit or TestNG runner</p></li>
<li><p>IDE plugin for Cucumber</p></li>
</ul>
<h2 id='5-jdi-dark-and-soap'>5. JDI Dark and SOAP</h2>
<p>In this example we create tests for SOAP service yandex-speller with WSDL <a href="https://speller.yandex.net/services/spellservice?WSDL" target="_blank">https://speller.yandex.net/services/spellservice?WSDL</a></p>

<p><strong>1. Generate objects from WSDL</strong> </p>

<p>Generate objects classes from WSDL using <a href="https://jdi-docs.github.io/jdi-dark/#soap-objects-generation-from-wsdl" target="_blank">SOAP objects generation from WSDL</a></p>

<p><strong>2. Create the Service object class</strong> </p>
<pre class="highlight java tab-java"><code><span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"http://speller.yandex.net/services/spellservice"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">YandexSpeller</span> <span class="o">{</span>

    <span class="nd">@POST</span><span class="o">()</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">SoapMethod</span><span class="o">&lt;</span><span class="n">CheckTextRequest</span><span class="o">,</span> <span class="n">CheckTextResponse</span><span class="o">&gt;</span> <span class="n">checkText</span><span class="o">;</span>

    <span class="nd">@POST</span><span class="o">()</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">SoapMethod</span><span class="o">&lt;</span><span class="n">CheckTextsRequest</span><span class="o">,</span> <span class="n">CheckTextsResponse</span><span class="o">&gt;</span> <span class="n">checkTexts</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
<ol>
<li><p>Specify BaseURI service by using @ServiceDomain(&quot;https://speller.yandex.net/services/spellservice&quot;) annotation before class </p></li>
<li><p>Describe SOAP methods using SoapMethod<Request object, Response object> class.
For example, for checking text - <code>public static SoapMethod&lt;CheckTextRequest, CheckTextResponse&gt;</code></p></li>
<li><p>Add annotation @POST() for your method</p></li>
</ol>

<p>You can use other necessary annotations as described <a href="https://jdi-docs.github.io/jdi-dark/#creating-service-object" target="_blank">here</a>.</p>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/soap/YandexSpeller.java" target="_blank">See an example for Service Object class</a>.<br>
<br/></p>

<p><strong>3. Create the test class</strong>  </p>
<pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">YandexSpellerSOAPTests</span> <span class="o">{</span>
    <span class="nd">@BeforeTest</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">init</span><span class="o">(</span><span class="n">YandexSpeller</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">checkTestResponse</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">CheckTextResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">YandexSpeller</span><span class="o">.</span><span class="na">checkText</span><span class="o">.</span><span class="na">callSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">CheckTextRequest</span><span class="o">().</span><span class="na">withText</span><span class="o">(</span><span class="s">"soap"</span><span class="o">).</span><span class="na">withLang</span><span class="o">(</span><span class="s">"en"</span><span class="o">));</span>
        <span class="n">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getSpellResult</span><span class="o">().</span><span class="na">getError</span><span class="o">().</span><span class="na">size</span><span class="o">()).</span><span class="na">isZero</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>1.Initialize your service class in @BeforeClass</p>

<p>2.Add test methods</p>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/soap/YandexSpellerSOAPTests.java" target="_blank">See a test case example</a>.</p>
<h2 id='api-testing-framework-structure'>API Testing Framework structure</h2>
<p>JDI dark consists of next packages:</p>

<ul>
<li>annotations - contain annotations that can be used in project<br></li>
<li>logger - contain classes which implement JDI DARK logging</li>
<li>requests - contain classes which implement JDI sending requests, error handling and initialization of service</li>
<li>response - contain classes which used for working with Rest response</li>
<li>performance - contain classes which used for perfomance testing</li>
</ul>
<h1 id='documentation'>Documentation</h1><h2 id='framework-usage'>Framework usage</h2>
<p>JDI Dark Framework provides great opportunities for web services testing.<br>
Below you will find the description of their features and the ways of using with code examples.</p>
<h2 id='http-methods'>HTTP methods</h2>
<p>JDI Dark supports the following HTTP methods:</p>

<ul>
<li>GET</li>
<li>POST</li>
<li>PUT</li>
<li>PATCH</li>
<li>DELETE</li>
<li>OPTIONS</li>
<li>HEAD</li>
</ul>

<p>For all of these methods there are annotations named after them in the <em>com.epam.http.annotations.</em>* package.
All of these annotations take the call request URI value. The annotations are supposed to be used in your Service Object class.</p>

<p>To point to the base URI of your service, it&#39;s convenient to use the <em>@ServiceDomain</em> annotation with URL provided as argument.
Then, values in your method annotations might be just specific URL paths.</p>
<h3 id='specifying-http-method'>Specifying HTTP method</h3><pre class="highlight java tab-java"><code><span class="nd">@POST</span><span class="o">(</span><span class="s">"/greet"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">greetPost</span><span class="o">;</span>

<span class="nd">@DELETE</span><span class="o">(</span><span class="s">"/body"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">deleteBody</span><span class="o">;</span>

<span class="nd">@GET</span><span class="o">(</span><span class="s">"/hello"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getHello</span><span class="o">;</span>

<span class="nd">@PUT</span><span class="o">(</span><span class="s">"/cookie"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">putCookie</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">formParamsAcceptsIntArgumentsJDI</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">Object</span><span class="o">[][]</span> <span class="n">queryPramsArray</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Object</span><span class="o">[][]{{</span><span class="s">"firstName"</span><span class="o">,</span> <span class="mi">1234</span><span class="o">},</span> <span class="o">{</span><span class="s">"lastName"</span><span class="o">,</span> <span class="mi">5678</span><span class="o">}};</span>

    <span class="n">JettyService</span><span class="o">.</span><span class="na">greetPost</span><span class="o">(</span><span class="n">queryPramsArray</span><span class="o">)</span>
                <span class="o">.</span><span class="na">isOk</span><span class="o">()</span>
                <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"greeting"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Greetings 1234 5678"</span><span class="o">));</span>
    <span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteSupportsStringBody</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">deleteBody</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">requestBody</span><span class="o">(</span><span class="n">TEST_BODY_VALUE</span><span class="o">));</span>
    <span class="n">response</span><span class="o">.</span><span class="na">assertThat</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="n">is</span><span class="o">(</span><span class="n">TEST_BODY_VALUE</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">getCanReturnResponseDataAsString</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">JettyService</span><span class="o">.</span><span class="na">getHello</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
    <span class="kd">final</span> <span class="n">String</span> <span class="n">responseInfo</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">responseInfo</span><span class="o">,</span> <span class="n">containsString</span><span class="o">(</span><span class="s">"Response status: 200 OK (OK)"</span><span class="o">));</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">responseInfo</span><span class="o">,</span> <span class="n">containsString</span><span class="o">(</span><span class="s">"Response body: {\"hello\":\"Hello Scalatra\"}"</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">putCanReturnBodyAsString</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">cookies</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="n">cookies</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"username"</span><span class="o">,</span> <span class="s">"John"</span><span class="o">);</span>
    <span class="n">cookies</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"1234"</span><span class="o">);</span>
    <span class="kd">final</span> <span class="n">String</span> <span class="n">body</span> <span class="o">=</span> <span class="n">JettyService</span><span class="o">.</span><span class="na">putCookie</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">cookies</span><span class="o">().</span><span class="na">addAll</span><span class="o">(</span><span class="n">cookies</span><span class="o">)).</span><span class="na">getBody</span><span class="o">();</span>
    <span class="n">assertEquals</span><span class="o">(</span><span class="s">"username, token"</span><span class="o">,</span> <span class="n">body</span><span class="o">);</span>
<span class="o">}</span>

</code></pre>
<p>For describing HTTP method use RestMethod class with appropriate annotation in Service object class.<br>
<strong>@POST(&quot;endpoint&quot;)</strong> - for POST method<br>
<strong>@GET(&quot;endpoint&quot;)</strong> - for GET method<br>
<strong>@DELETE(&quot;endpoint&quot;)</strong> - for DELETE method<br>
<strong>@PUT(&quot;endpoint&quot;)</strong> - for PUT method  </p>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/services/JettyService.java" target="_blank">Test example in Java</a></p>

<p>Available methods for sending HTTP request in JDI dark: </p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>call(RequestData requestData)</strong></td>
<td>send request with Request Data parameters</td>
<td>RestResponse</td>
</tr>
<tr>
<td><strong>call(JAction1<RequestData> action)</strong></td>
<td>send request with Request Data parameters</td>
<td>RestResponse</td>
</tr>
<tr>
<td><strong>call()</strong></td>
<td>send request</td>
<td>RestResponse</td>
</tr>
<tr>
<td><strong>call(RequestSpecification requestSpecification)</strong></td>
<td>send request with RequestSpecification</td>
<td>RestResponse</td>
</tr>
<tr>
<td><strong>call(RestAssuredConfig restAssuredConfig)</strong></td>
<td>send request with RestAssuredConfig</td>
<td>RestResponse</td>
</tr>
<tr>
<td><strong>call(String queryParams)</strong></td>
<td>send request with query parameters</td>
<td>RestResponse</td>
</tr>
<tr>
<td><strong>callWithNamedParams(String... namedParams)</strong></td>
<td>send request with named query parameters</td>
<td>RestResponse</td>
</tr>
<tr>
<td><strong>callAsData(Class<T> c)</strong></td>
<td>send request and map response to Java object</td>
<td>java object</td>
</tr>
<tr>
<td><strong>post(Object body)</strong></td>
<td>send post/put request with body</td>
<td>RestResponse</td>
</tr>
<tr>
<td><strong>post(Object body, Class<T> c)</strong></td>
<td>send post/put request with body and parse result to object</td>
<td>java object</td>
</tr>
</tbody></table>

<p><br>
<a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples" target="_blank">Test examples in Java</a>
<br></p>
<h2 id='request-data'>Request Data</h2>
<p>You might need to use specific request data in your requests. <em>Cookies</em>, <em>headers</em>, <em>query parameters</em> and <em>Content-type</em> are available in annotated form.
Therefore, you can specify them in your Service Object class providing name and value.</p>

<p>There is a class called <em>com.epam.http.requests.RequestData</em> which represents the data sent along with your request.</p>

<p>It is also possible to specify request data when making a request call.</p>
<h3 id='request-body'>Request body</h3><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">static</span> <span class="n">RequestData</span> <span class="nf">requestBody</span><span class="o">(</span><span class="n">String</span> <span class="n">body</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RequestData</span> <span class="nf">requestData</span><span class="o">(</span><span class="n">JAction1</span><span class="o">&lt;</span><span class="n">RequestData</span><span class="o">&gt;</span> <span class="n">valueFunc</span><span class="o">)</span>
</code></pre>
<p>Request body can be set when making a request call. Just pass it as argument to the <em>call()</em> method or within the RequestData object 
with the following fields:</p>

<ul>
<li>String url</li>
<li>String path</li>
<li>Object body</li>
<li>String contentType</li>
<li>Headers headers</li>
<li>MultiMap<String, String> <a href="https://jdi-docs.github.io/jdi-dark/#path-parameters">pathParams</a></li>
<li>MultiMap<String, String> <a href="https://jdi-docs.github.io/jdi-dark/#query-parameters">queryParams</a> </li>
<li>MultiMap<String, String> <a href="https://jdi-docs.github.io/jdi-dark/#form-parameters">formParams</a> </li>
<li>Cookies cookies</li>
<li>ArrayList<MultiPartSpecification> <a href="https://jdi-docs.github.io/jdi-dark/#multipart-parameters">multiPartSpecifications</a> </li>
<li>ProxySpecification <a href="https://jdi-docs.github.io/jdi-dark/#proxy">proxySpecification</a> </li>
</ul>

<p>All of these fields can be set/updated from the <em>call()</em> method as well.</p>

<p>You may need to statically import the <em>com.epam.http.requests.RequestData.</em>* package.</p>
<pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="n">RestResponse</span> <span class="nf">call</span><span class="o">(</span><span class="n">RequestSpecification</span> <span class="n">requestSpecification</span><span class="o">)</span> 
</code></pre>
<p>Another way to generate request data is <a href="https://jdi-docs.github.io/jdi-dark/#using-request-data-object-as-a-parameter">using Request Data object as a parameter</a>
<br>
JDI Dark also supports making request calls with <a href="https://jdi-docs.github.io/jdi-dark/#requestspecification-configuration">Rest Assured request specification</a></p>
<h3 id='path-parameters'>Path parameters</h3><pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/{firstName}/{lastName}"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getUser</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">supportsPassingPathParamsToRequestSpec</span><span class="o">(){</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">getUser</span>
            <span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">pathParams</span><span class="o">().</span><span class="na">addAll</span><span class="o">(</span><span class="k">new</span> <span class="n">Object</span><span class="o">[][]{{</span><span class="s">"firstName"</span><span class="o">,</span> <span class="s">"John"</span><span class="o">},</span> 
<span class="o">{</span><span class="s">"lastName"</span><span class="o">,</span> <span class="s">"Doe"</span><span class="o">}}));</span>
    <span class="n">response</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="s">"fullName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"John Doe"</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">canSpecifySpacePathParamsWithoutKey</span><span class="o">(){</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">getUser</span><span class="o">.</span><span class="na">callWithNamedParams</span><span class="o">(</span><span class="s">"John"</span><span class="o">,</span> <span class="s">" "</span><span class="o">);</span>
    <span class="n">response</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="s">"firstName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"John"</span><span class="o">)).</span><span class="na">body</span><span class="o">(</span><span class="s">"lastName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">" "</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">urlEncodesPathParamsInMap</span><span class="o">(){</span>
    <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"firstName"</span><span class="o">,</span> <span class="s">"John: å"</span><span class="o">);</span>
    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"lastName"</span><span class="o">,</span> <span class="s">"Doe"</span><span class="o">);</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">getUser</span>
            <span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">pathParams</span><span class="o">().</span><span class="na">addAll</span><span class="o">(</span><span class="n">params</span><span class="o">));</span>
    <span class="n">response</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="s">"fullName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"John: å Doe"</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@GET</span><span class="o">(</span><span class="s">"/status/{status}?q={value}"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">statusWithQuery</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">statusTestWithQueryInPath</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">statusWithQuery</span><span class="o">.</span><span class="na">callWithNamedParams</span><span class="o">(</span><span class="s">"503"</span><span class="o">,</span> <span class="s">"some"</span><span class="o">);</span>
    <span class="n">assertEquals</span><span class="o">(</span><span class="n">resp</span><span class="o">.</span><span class="na">status</span><span class="o">.</span><span class="na">code</span><span class="o">,</span> <span class="mi">503</span><span class="o">);</span>
    <span class="n">assertEquals</span><span class="o">(</span><span class="n">resp</span><span class="o">.</span><span class="na">status</span><span class="o">.</span><span class="na">type</span><span class="o">,</span> <span class="n">SERVER_ERROR</span><span class="o">);</span>
    <span class="n">resp</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">();</span>
<span class="o">}</span>
</code></pre>
<p>A URL can have one or several path parameters, each denoted with curly braces, e.g. <em>/get/{board_id}</em>, <em>/boards/{board_id}/cards/{short_card_id}/</em>. 
You can use them in your Service Object methods and replace placeholders with values when making request calls.</p>

<p>Methods allow to send path params to RequestData:</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>pathParams().add(paramName, paramValue)</strong></td>
<td>pass one parameter to a path</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>pathParams().addAll(Object[][] array2D)</strong></td>
<td>pass multiple parameters to a path</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>pathParams().addAll(Map map)</strong></td>
<td>pass multiple parameters to a path</td>
<td>RequestData</td>
</tr>
</tbody></table>

<p>Methods for passing path params (with/without query params) in RestMethod:</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>callWithNamedParams(String... namedParams)</strong></td>
<td>pass parameters to a path without key</td>
<td>RestResponse</td>
</tr>
</tbody></table>

<p><br>
<a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/requestparams/PathParamTests.java" target="_blank">Test examples in Java</a>
<br>
<br />
<br />
<br />
<br />
<br /></p>
<h3 id='query-parameters'>Query parameters</h3><pre class="highlight java tab-java"><code><span class="nd">@POST</span><span class="o">(</span><span class="s">"/greet"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">greetPost</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">whenLastParamInGetRequestEndsWithEqualItsTreatedAsANoValueParam</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">queryParamsMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
  <span class="n">queryParamsMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">FIRST_NAME</span><span class="o">,</span> <span class="n">FIRST_NAME_VALUE</span><span class="o">);</span>
  <span class="n">queryParamsMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">LAST_NAME</span><span class="o">,</span> <span class="n">StringUtils</span><span class="o">.</span><span class="na">EMPTY</span><span class="o">);</span>

  <span class="n">JettyService</span><span class="o">.</span><span class="na">getGreet</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">queryParams</span><span class="o">().</span><span class="na">addAll</span><span class="o">(</span><span class="n">queryParamsMap</span><span class="o">)).</span><span class="na">isOk</span><span class="o">()</span>
<span class="o">.</span><span class="na">assertThat</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="s">"greeting"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Greetings John "</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@DELETE</span><span class="o">(</span><span class="s">"/greet"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">deleteGreet</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">bodyHamcrestMatcherWithOutKey</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">deleteGreet</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">queryParams</span><span class="o">().</span><span class="na">addAll</span><span class="o">(</span>
            <span class="k">new</span> <span class="n">Object</span><span class="o">[][]{{</span><span class="n">FIRST_NAME</span><span class="o">,</span> <span class="n">FIRST_NAME_VALUE</span><span class="o">},</span>
                    <span class="o">{</span><span class="n">LAST_NAME</span><span class="o">,</span> <span class="n">LAST_NAME_VALUE</span><span class="o">}</span>
            <span class="o">})).</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">()</span>
<span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">equalTo</span><span class="o">(</span><span class="s">"{\"greeting\":\"Greetings John Doe\"}"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre>
<p>Methods allow to send query params to RequestData:</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>queryParams().add(paramName, paramValue)</strong></td>
<td>pass one parameter to a path</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>queryParams().addAll(Object[][] array2D)</strong></td>
<td>pass multiple parameters to a path</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>queryParams().addAll(Map map)</strong></td>
<td>pass multiple parameters to a path</td>
<td>RequestData</td>
</tr>
</tbody></table>

<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<h3 id='simplified-query-parameters'>Simplified Query parameters</h3><pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/noValueParam"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getNoValueParam</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">singleNoValueQueryParamWhenUsingQueryParamInUrlForGetRequest</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">JettyService</span><span class="o">.</span><span class="na">getNoValueParam</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="s">"some"</span><span class="o">)</span>
            <span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="n">is</span><span class="o">(</span><span class="s">"Params: some="</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">mixingStartingNoValueQueryParamWhenUsingQueryParamInUrlForGetRequest</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">JettyService</span><span class="o">.</span><span class="na">getNoValueParam</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="s">"some1&amp;some2=one"</span><span class="o">)</span>
            <span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="n">is</span><span class="o">(</span><span class="s">"Params: some1=some2=one"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre>
<p>The method allows to send specific query parameters in URL in RestMethod:</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>call(String queryParams)</strong></td>
<td>pass query parameters</td>
<td>RestResponse</td>
</tr>
</tbody></table>

<p><br>
<a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/requestparams/ParamTests.java" target="_blank">Test examples in Java</a>
<br><br>
<br />
<br />
<br />
<br /></p>
<h3 id='form-parameters'>Form parameters</h3><pre class="highlight java tab-java"><code><span class="nd">@POST</span><span class="o">(</span><span class="s">"/greet"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">greetPost</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">formParamsAcceptsIntArgumentsJDI</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">greetPost</span>
            <span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">formParams</span><span class="o">()</span>
<span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="k">new</span> <span class="n">Object</span><span class="o">[][]{{</span><span class="s">"firstName"</span><span class="o">,</span> <span class="mi">1234</span><span class="o">},</span> <span class="o">{</span><span class="s">"lastName"</span><span class="o">,</span> <span class="mi">5678</span><span class="o">}}));</span>
    <span class="n">response</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="s">"greeting"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Greetings 1234 5678"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre>
<p>Methods allow to send form params to RequestData:</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>formParams().add(paramName, paramValue)</strong></td>
<td>pass one form parameter to a path</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>formParams().addAll(Object[][] array2D)</strong></td>
<td>pass multiple parameters to a path</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>formParams().addAll(Map map)</strong></td>
<td>pass multiple parameters to a path</td>
<td>RequestData</td>
</tr>
</tbody></table>
<h3 id='multipart-parameters'>Multipart parameters</h3><pre class="highlight java tab-java"><code><span class="nd">@POST</span><span class="o">(</span><span class="s">"/multipart/file"</span><span class="o">)</span>
<span class="nd">@MultiPart</span><span class="o">(</span><span class="n">controlName</span> <span class="o">=</span> <span class="s">"file"</span><span class="o">,</span> <span class="n">fileName</span> <span class="o">=</span> <span class="s">"myFile"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">postMultiPartFile</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">multiPartByteArrays</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">bytes</span> <span class="o">=</span> <span class="n">IOUtils</span><span class="o">.</span><span class="na">toByteArray</span><span class="o">(</span><span class="n">getClass</span><span class="o">()</span>
<span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">"/car-records.xsd"</span><span class="o">));</span>
    <span class="n">JettyService</span><span class="o">.</span><span class="na">postMultiPartFile</span><span class="o">.</span><span class="na">withMultiPartContent</span><span class="o">(</span><span class="n">bytes</span><span class="o">).</span><span class="na">call</span><span class="o">().</span><span class="na">assertThat</span><span class="o">()</span>
                <span class="o">.</span><span class="na">statusCode</span><span class="o">(</span><span class="mi">200</span><span class="o">).</span><span class="na">body</span><span class="o">(</span><span class="n">is</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">bytes</span><span class="o">)));</span>
    <span class="o">}</span>

<span class="nd">@POST</span><span class="o">(</span><span class="s">"multipart/multiple"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">postMultipartMultiple</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">multiPartUploadingWorksForFormParamsAndByteArray</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">JettyService</span><span class="o">.</span><span class="na">postMultipartMultiple</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">requestData</span><span class="o">(</span><span class="n">rd</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">formParams</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"formParam1"</span><span class="o">,</span> <span class="s">""</span><span class="o">);</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">formParams</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"formParam2"</span><span class="o">,</span> <span class="s">"formParamValue"</span><span class="o">);</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">setMultiPart</span><span class="o">(</span><span class="k">new</span> <span class="n">MultiPartSpecBuilder</span><span class="o">(</span><span class="s">"juX"</span><span class="o">).</span><span class="na">controlName</span><span class="o">(</span><span class="s">"file"</span><span class="o">));</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">setMultiPart</span><span class="o">(</span><span class="k">new</span> <span class="n">MultiPartSpecBuilder</span><span class="o">(</span><span class="s">"body"</span><span class="o">).</span><span class="na">controlName</span><span class="o">(</span><span class="s">"string"</span><span class="o">));</span>
    <span class="o">})).</span><span class="na">assertThat</span><span class="o">()</span>
            <span class="o">.</span><span class="na">statusCode</span><span class="o">(</span><span class="mi">200</span><span class="o">)</span>
            <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">containsString</span><span class="o">(</span><span class="s">"formParam1 -&gt; WrappedArray()"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre>
<p>Methods allow to set multipart parameters to request data:</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>setMultiPart(MultiPartSpecBuilder multiPartSpecBuilder)</strong></td>
<td>set multipart parameters</td>
<td>RequestData</td>
</tr>
</tbody></table>

<p><em>MultiPartSpecBuilder</em> - class for creating advanced multi-part requests
<br>
<br>
<a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/requestparams/MultiPartUploadTests.java" target="_blank">Test examples in Java</a><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br>  </p>
<h3 id='using-request-data-object-as-a-parameter'>Using Request Data object as a parameter</h3><pre class="highlight java tab-java"><code><span class="nd">@POST</span><span class="o">(</span><span class="s">"/greet"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">greetPost</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">charsetIsReallyDefined</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">formParamsMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="n">formParamsMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"firstName"</span><span class="o">,</span> <span class="s">"Some &amp; firstname"</span><span class="o">);</span>
    <span class="n">formParamsMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"lastName"</span><span class="o">,</span> <span class="s">"&lt;lastname&gt;"</span><span class="o">);</span>

    <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">greetPost</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">requestData</span><span class="o">(</span><span class="n">rd</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">contentType</span> <span class="o">=</span> <span class="s">"application/x-www-form-urlencoded; charset=ISO-8859-1"</span><span class="o">;</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">formParams</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">formParamsMap</span><span class="o">);</span>
    <span class="o">}));</span>
    <span class="n">resp</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">()</span>
       <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"greeting"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Greetings Some &amp; firstname &lt;lastname&gt;"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre>
<p>The method allows to send the request with invoked request data in RestMethod:</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>call(RequestData requestData)</strong></td>
<td>make request with parameters indicated by Request Data</td>
<td>RestResponse</td>
</tr>
</tbody></table>

<p><br>
<a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/requestparams/ParamTests.java" target="_blank">Test examples in Java</a>
<br><br>
<br />
<br />
<br />
<br /></p>
<h3 id='requestspecification-configuration'>RequestSpecification configuration</h3><pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/jsonStore"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getJsonStore</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">supportsConfiguringJsonConfigProperties</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RequestSpecification</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">getJsonStore</span><span class="o">.</span><span class="na">getInitSpec</span><span class="o">()</span>
            <span class="o">.</span><span class="na">config</span><span class="o">(</span><span class="n">RestAssuredConfig</span><span class="o">.</span><span class="na">newConfig</span><span class="o">()</span>
            <span class="o">.</span><span class="na">jsonConfig</span><span class="o">(</span><span class="n">JsonConfig</span><span class="o">.</span><span class="na">jsonConfig</span><span class="o">()</span>
            <span class="o">.</span><span class="na">numberReturnType</span><span class="o">(</span><span class="n">JsonPathConfig</span><span class="o">.</span><span class="na">NumberReturnType</span><span class="o">.</span><span class="na">BIG_DECIMAL</span><span class="o">)));</span>
    <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">getJsonStore</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">rs</span><span class="o">);</span>
    <span class="n">resp</span><span class="o">.</span><span class="na">isOk</span><span class="o">()</span>
            <span class="o">.</span><span class="na">rootPath</span><span class="o">(</span><span class="s">"store.book"</span><span class="o">)</span>
            <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"price.min()"</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"8.95"</span><span class="o">)))</span>
            <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="s">"price.max()"</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"22.99"</span><span class="o">)));</span>
<span class="o">}</span>
</code></pre>
<p>You can set RequestSpecification for your request. Get RestAssured RequestSpecification from RestMethod object, set and use it.</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>getInitSpec()</strong></td>
<td>get RestAssured RequestSpecification</td>
<td>RequestSpecification</td>
</tr>
<tr>
<td><strong>call(RequestSpecification spec)</strong></td>
<td>make request with RequestSpecification</td>
<td>RestResponse</td>
</tr>
</tbody></table>

<p><br>
<a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/customsettings/ConfigITests.java" target="_blank">Test examples in Java</a>
<br></p>

<p><em>For general setting RestAssured config see <a href="https://jdi-docs.github.io/jdi-dark/#access-restassured">Accessing RestAssured</a></em></p>
<h2 id='tests-without-service-object'>Tests without Service Object</h2><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">static</span> <span class="n">RestResponse</span> <span class="nf">GET</span><span class="o">(</span><span class="n">RequestData</span> <span class="n">data</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestResponse</span> <span class="nf">GET</span><span class="o">(</span><span class="n">String</span> <span class="n">url</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestResponse</span> <span class="nf">GET</span><span class="o">(</span><span class="n">String</span> <span class="n">url</span><span class="o">,</span> <span class="n">RequestSpecification</span> <span class="n">requestSpecification</span><span class="o">)</span> 
</code></pre>
<p>All the HTTP methods mentioned before are also available in non-annotated form.
They can be made accessible by importing <em>com.epam.http.requests.RestMethods.</em>* with several signatures.</p>

<p>You can call these methods with either of given arguments:</p>

<ul>
<li><em>com.epam.http.requests.RequestData</em></li>
<li>String URL</li>
<li>Rest Assured request specification: <em>io.restassured.specification.RequestSpecification</em></li>
</ul>
<h2 id='tests-with-service-object'>Tests with Service Object</h2><h3 id='create-service'>Create service</h3><pre class="highlight java tab-java"><code><span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"https://httpbin.org/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServiceExample</span> <span class="o">{</span>
    <span class="nd">@ContentType</span><span class="o">(</span><span class="n">JSON</span><span class="o">)</span> <span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span>
    <span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Name"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Roman"</span><span class="o">)</span>
    <span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Id"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Test"</span><span class="o">)</span>
    <span class="kd">static</span> <span class="n">RestMethod</span><span class="o">&lt;</span><span class="n">Info</span><span class="o">&gt;</span> <span class="n">getInfo</span><span class="o">;</span>

    <span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Type"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Test"</span><span class="o">)</span>
    <span class="nd">@POST</span><span class="o">(</span><span class="s">"/post"</span><span class="o">)</span>
    <span class="n">RestMethod</span> <span class="n">postMethod</span><span class="o">;</span>

    <span class="nd">@PUT</span><span class="o">(</span><span class="s">"/put"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">putMethod</span><span class="o">;</span>
    <span class="nd">@PATCH</span><span class="o">(</span><span class="s">"/patch"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">patch</span><span class="o">;</span>
    <span class="nd">@DELETE</span><span class="o">(</span><span class="s">"/delete"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">delete</span><span class="o">;</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/status/{status}"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">status</span><span class="o">;</span>

    <span class="nd">@Cookie</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"session_id"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"1234"</span><span class="o">)</span>
    <span class="nd">@Cookie</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"hello"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"world"</span><span class="o">)</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/cookies"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">RestMethod</span> <span class="n">getCookies</span><span class="o">;</span>
<span class="o">}</span> 

<span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"http://localhost:8080"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JettyService</span> <span class="o">{</span>
    <span class="nd">@POST</span><span class="o">(</span><span class="s">"/noValueParam"</span><span class="o">)</span>
    <span class="nd">@FormParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"some1"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"one"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">postNoValueParamWithPreDefinedFormParam</span><span class="o">;</span>

    <span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"firstName"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"John"</span><span class="o">)</span>
    <span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"lastName"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Doe"</span><span class="o">)</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/greetXML"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getGreetXml</span><span class="o">;</span>

    <span class="nd">@POST</span><span class="o">(</span><span class="s">"/multipart/file"</span><span class="o">)</span>
    <span class="nd">@MultiPart</span><span class="o">(</span><span class="n">controlName</span> <span class="o">=</span> <span class="s">"file"</span><span class="o">,</span> <span class="n">fileName</span> <span class="o">=</span> <span class="s">"myFile"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">postMultiPartFile</span><span class="o">;</span>

    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/greetJSON"</span><span class="o">)</span>
    <span class="nd">@Proxy</span><span class="o">(</span><span class="n">host</span> <span class="o">=</span> <span class="s">"127.0.0.1"</span><span class="o">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">8888</span><span class="o">,</span> <span class="n">scheme</span> <span class="o">=</span> <span class="s">"http"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getGreenJSONWithProxyParams</span><span class="o">;</span>

    <span class="nd">@URL</span><span class="o">(</span><span class="s">"http://www.google.se"</span><span class="o">)</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/search?q={query}&amp;hl=en"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">searchGoogle</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@RetryOnFailure</span>
<span class="nd">@ServiceDomain</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"http://localhost:8080/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RetryingService</span> <span class="o">{</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"503"</span><span class="o">)</span>
    <span class="nd">@RetryOnFailure</span><span class="o">(</span><span class="n">numberOfRetryAttempts</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">delay</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">get503</span><span class="o">;</span>

    <span class="nd">@GET</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"502"</span><span class="o">)</span>
    <span class="nd">@IgnoreRetry</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">ignoreRetrying</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"https://localhost:8443"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JettyServiceHttps</span> <span class="o">{</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/jsonStore"</span><span class="o">)</span>
    <span class="nd">@TrustStore</span><span class="o">(</span><span class="n">pathToJks</span> <span class="o">=</span> <span class="s">"src/test/resources/truststore_mjvmobile.jks"</span><span class="o">,</span> 
<span class="n">password</span> <span class="o">=</span> <span class="s">"test4321"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getJsonStore</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"http://www.dneonline.com/calculator.asmx"</span><span class="o">)</span>
<span class="nd">@SOAPNamespace</span><span class="o">(</span><span class="s">"http://tempuri.org/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DneOnlineCalculator</span> <span class="o">{</span>
    <span class="nd">@POST</span><span class="o">()</span>
    <span class="nd">@SOAPAction</span><span class="o">(</span><span class="s">"http://tempuri.org/Multiply"</span><span class="o">)</span>
    <span class="nd">@SOAP12</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">SoapMethod</span><span class="o">&lt;</span><span class="n">Multiply</span><span class="o">,</span> <span class="n">MultiplyResponse</span><span class="o">&gt;</span> <span class="n">multiply</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
<p>It&#39;s possible to describe tested web service as a Service Object class using annotations:</p>

<ul>
<li>@ContentType - represents a Content-Type. There can be used any values in <a href="https://static.javadoc.io/io.rest-assured/rest-assured/3.1.0/io/restassured/http/ContentType.html">Rest Assured enumeration</a>
<br /></li>
<li>@Header - represents an HTTP Header as:

<ul>
<li>name</li>
<li>value
<br /></li>
</ul></li>
<li>@Headers - represents the collection of HTTP headers
<br /></li>
<li>@Cookie - represents a Cookie as:

<ul>
<li>name</li>
<li>value, default = &quot;[unassigned]&quot;</li>
<li>additionalValues, default = &quot;[unassigned]&quot;
<br /></li>
</ul></li>
<li>@Cookies - represents the collection of Cookies
<br /></li>
<li>@FormParameter - represents form parameter as:

<ul>
<li>name</li>
<li>value
<br /></li>
</ul></li>
<li>@FormParameters - represents the collection of form parameters
<br /></li>
<li>@QueryParameter - represents query parameter as:

<ul>
<li>name</li>
<li>value
<br /></li>
</ul></li>
<li>@QueryParameters - represents the collection of query parameters
<br /></li>
<li>@MultiPart - represents MultiPart parameters:

<ul>
<li>fileName, default = &quot;&quot;</li>
<li>controlName, default = &quot;&quot;</li>
<li>filePath, default = &quot;&quot;</li>
<li>mimeType, default = &quot;&quot;
<br /></li>
</ul></li>
<li>@HEAD - represents HTTP head method

<ul>
<li>value, default = &quot;&quot;
<br /></li>
</ul></li>
<li>@GET - represents HTTP get method

<ul>
<li>value, default = &quot;&quot;
<br /></li>
</ul></li>
<li>@DELETE - represents HTTP delete method

<ul>
<li>value, default = &quot;&quot;
<br /></li>
</ul></li>
<li>@PATCH - represents HTTP patch method

<ul>
<li>value, default = &quot;&quot;
<br /></li>
</ul></li>
<li>@POST - represents HTTP post method

<ul>
<li>value, default = &quot;&quot;
<br /></li>
</ul></li>
<li>@PUT - represents HTTP put method

<ul>
<li>value, default = &quot;&quot;
<br /></li>
</ul></li>
<li>@OPTIONS - represents HTTP options method

<ul>
<li>value, default = &quot;&quot;
<br /></li>
</ul></li>
<li>@IgnoreRetry - represents ignore settings for failed tests
<br />
See example <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/services/RetryingService.java" target="_blank">here</a>.
<br /></li>
<li>@Proxy - represents Proxy parameters:

<ul>
<li>host</li>
<li>port</li>
<li>scheme
<br /></li>
</ul></li>
<li>@RetryOnFailure - represents retry settings for failed tests:

<ul>
<li>numberOfRetryAttempts, default = 3</li>
<li>errorCodes, default = 502, 503</li>
<li>delay, default = 10</li>
<li>unit, default = microseconds
<br />
See example <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/services/RetryingService.java" target="_blank">here</a>.
<br /></li>
</ul></li>
<li>@ServiceDomain - represents the domain name

<ul>
<li>value
<br /></li>
</ul></li>
<li>@TrustStore - represents a TrustStore located on the file-system:

<ul>
<li>pathToJks</li>
<li>password
<br />
See example <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/services/JettyServiceHttps.java" target="_blank">here</a>.
<br /></li>
</ul></li>
<li>@URL - represents HTTP get method, where value is uri

<ul>
<li>value
<br />
<br /></li>
</ul></li>
<li>@SOAP12 - represents SOAP 1.2
<br /></li>
<li>@SOAPAction - represents the intention of the SOAP HTTP request

<ul>
<li>value
<br /></li>
</ul></li>
<li>@SOAPNamespace - represents the namespace

<ul>
<li>value
<br />
<br />
See annotations <a href="https://github.com/jdi-testing/jdi-dark/tree/master/jdi-dark/src/main/java/com/epam/http/annotations" target="_blank">here</a>.
<br />
See service example <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/services/JettyService.java" target="_blank">here</a>.</li>
</ul></li>
</ul>
<h3 id='create-tests-for-service'>Create tests for service</h3><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServiceTest</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">ServiceExample</span> <span class="n">service</span><span class="o">;</span>

    <span class="nd">@BeforeClass</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">init</span><span class="o">(</span><span class="n">ServiceExample</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">simpleRestTest</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">ServiceExample</span><span class="o">.</span><span class="na">getInfo</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span>
                <span class="n">body</span><span class="o">(</span><span class="s">"url"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"https://httpbin.org/get"</span><span class="o">)).</span>
                <span class="n">body</span><span class="o">(</span><span class="s">"headers.Host"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"httpbin.org"</span><span class="o">)).</span>
                <span class="n">body</span><span class="o">(</span><span class="s">"headers.Id"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Test"</span><span class="o">));</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">assertThat</span><span class="o">().</span><span class="na">header</span><span class="o">(</span><span class="s">"Connection"</span><span class="o">,</span> <span class="s">"keep-alive"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">serviceInitTest</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">postMethod</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">().</span>
                <span class="n">body</span><span class="o">(</span><span class="s">"url"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"https://httpbin.org/post"</span><span class="o">)).</span>
                <span class="n">body</span><span class="o">(</span><span class="s">"headers.Host"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"httpbin.org"</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>This class can be initialized in tests.
Fields of initialized object can be used to send requests from tests.
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></p>
<h3 id='use-predefined-restspecification'>Use predefined RestSpecification</h3><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServiceTest</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">RequestSpecification</span> <span class="n">requestSpecification</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ServiceExample</span> <span class="n">service</span><span class="o">;</span>

    <span class="nd">@BeforeClass</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">requestSpecification</span> <span class="o">=</span> <span class="n">given</span><span class="o">().</span><span class="na">filter</span><span class="o">(</span><span class="k">new</span> <span class="n">AllureRestAssured</span><span class="o">());</span>
        <span class="n">requestSpecification</span><span class="o">.</span><span class="na">auth</span><span class="o">().</span><span class="na">basic</span><span class="o">(</span><span class="s">"user"</span><span class="o">,</span> <span class="s">"password"</span><span class="o">);</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">init</span><span class="o">(</span><span class="n">ServiceExample</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">requestSpecification</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>It&#39;s possible to setup already used RestSpecification. 
Predefined settings will be used for all endpoints of that service.
In this example basic auth credentials will be passed to all endpoints.<br>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></p>
<h2 id='working-with-objects'>Working with objects</h2>
<p>There are key ability for any Rest Client is working with objects:</p>

<ul>
<li>Send object as request body</li>
<li>Get response body as object</li>
</ul>
<h3 id='setup-object-mapper'>Setup Object Mapper</h3>
<p>JDI allows user to setup Object Mapper for serialization/deserialization objects within endpoints.
After Object Mapper is set it will be used in all requests implicitly.</p>
<pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BaseTest</span> <span class="o">{</span>

    <span class="c1">//Set global object mapper for whole project</span>
    <span class="nd">@BeforeSuite</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">preconditions</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">RestAssured</span><span class="o">.</span><span class="na">config</span> <span class="o">=</span> <span class="n">RestAssuredConfig</span><span class="o">.</span><span class="na">config</span><span class="o">().</span><span class="na">objectMapperConfig</span><span class="o">(</span><span class="k">new</span> <span class="n">ObjectMapperConfig</span><span class="o">().</span><span class="na">jackson2ObjectMapperFactory</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">Jackson2ObjectMapperFactory</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="n">ObjectMapper</span> <span class="nf">create</span><span class="o">(</span><span class="n">Type</span> <span class="n">type</span><span class="o">,</span> <span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectMapper</span><span class="o">();</span>
                        <span class="n">objectMapper</span><span class="o">.</span><span class="na">configure</span><span class="o">(</span><span class="n">DeserializationFeature</span><span class="o">.</span><span class="na">FAIL_ON_UNKNOWN_PROPERTIES</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
                        <span class="k">return</span> <span class="n">objectMapper</span><span class="o">;</span>
                    <span class="o">}</span>
                <span class="o">}</span>
        <span class="o">));</span>
    <span class="o">}</span>

    <span class="c1">//Set object mapper for service. In this case global mapper will be overridden for SimpleService's endpoints</span>
    <span class="nd">@BeforeClass</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Jackson2Mapper</span><span class="o">(</span><span class="k">new</span> <span class="n">Jackson2ObjectMapperFactory</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="n">com</span><span class="o">.</span><span class="na">fasterxml</span><span class="o">.</span><span class="na">jackson</span><span class="o">.</span><span class="na">databind</span><span class="o">.</span><span class="na">ObjectMapper</span> <span class="nf">create</span><span class="o">(</span><span class="n">Type</span> <span class="n">type</span><span class="o">,</span> <span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">com</span><span class="o">.</span><span class="na">fasterxml</span><span class="o">.</span><span class="na">jackson</span><span class="o">.</span><span class="na">databind</span><span class="o">.</span><span class="na">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">com</span><span class="o">.</span><span class="na">fasterxml</span><span class="o">.</span><span class="na">jackson</span><span class="o">.</span><span class="na">databind</span><span class="o">.</span><span class="na">ObjectMapper</span><span class="o">();</span>
                <span class="n">objectMapper</span><span class="o">.</span><span class="na">configure</span><span class="o">(</span><span class="n">DeserializationFeature</span><span class="o">.</span><span class="na">FAIL_ON_UNKNOWN_PROPERTIES</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
                <span class="k">return</span> <span class="n">objectMapper</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">init</span><span class="o">(</span><span class="n">SimpleService</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">objectMapper</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>There are 2 ways to setup Object Mapper:</p>

<ul>
<li>For whole project</li>
<li>For specific service</li>
</ul>

<p>If Object Mapper isn&#39;t set default RestAssured mapper will be used.
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></p>
<h3 id='using-objects-in-tests'>Using objects in tests</h3><pre class="highlight java tab-java"><code> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">FlowTests</span> <span class="o">{</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">assignBoardToOrganization</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">//Create organization</span>
        <span class="n">Organization</span> <span class="n">organization</span> <span class="o">=</span> <span class="n">TrelloDataGenerator</span><span class="o">.</span><span class="na">generateOrganization</span><span class="o">();</span>
        <span class="c1">//Send object to POST request and get response body as object</span>
        <span class="n">Organization</span> <span class="n">createOrg</span> <span class="o">=</span> <span class="n">TrelloService</span><span class="o">.</span><span class="na">createOrganization</span><span class="o">(</span><span class="n">organization</span><span class="o">);</span>

        <span class="c1">//Create board</span>
        <span class="n">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="n">TrelloDataGenerator</span><span class="o">.</span><span class="na">generateBoard</span><span class="o">();</span>
        <span class="n">board</span><span class="o">.</span><span class="na">setIdOrganization</span><span class="o">(</span><span class="n">createOrg</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
        <span class="c1">//Send object to POST request</span>
        <span class="n">TrelloService</span><span class="o">.</span><span class="na">createBoard</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>

        <span class="c1">//Check that organization contains created board</span>
        <span class="c1">//Send GET request and get List of objects from response</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Board</span><span class="o">&gt;</span> <span class="n">boards</span> <span class="o">=</span> <span class="n">TrelloService</span><span class="o">.</span><span class="na">getOrganizationBoards</span><span class="o">(</span><span class="n">createOrg</span><span class="o">);</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">boards</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">Board:</span><span class="o">:</span><span class="n">getName</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">()).</span><span class="na">contains</span><span class="o">(</span><span class="n">board</span><span class="o">.</span><span class="na">getName</span><span class="o">()),</span> <span class="s">"Board wasn't added to organization"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<p>JDI allows create tests on business language using Service classes and working with objects.
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></p>
<pre class="highlight java tab-java"><code> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServiceExample</span> <span class="o">{</span>

    <span class="nd">@ContentType</span><span class="o">(</span><span class="n">JSON</span><span class="o">)</span>
    <span class="nd">@POST</span><span class="o">(</span><span class="s">"/organizations"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span><span class="o">&lt;</span><span class="n">Organization</span><span class="o">&gt;</span> <span class="n">createOrganization</span><span class="o">;</span>

    <span class="c1">//wrapper method for working with objects</span>
    <span class="c1">//send Organization object as request body and return response as Organization object</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Organization</span> <span class="nf">createOrganization</span><span class="o">(</span><span class="n">Organization</span> <span class="n">organization</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">createOrganization</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">organization</span><span class="o">,</span> <span class="n">Organization</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@ContentType</span><span class="o">(</span><span class="n">JSON</span><span class="o">)</span>
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/organizations/{id}/boards"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span><span class="o">&lt;</span><span class="n">Board</span><span class="o">[]&gt;</span> <span class="n">getOrganizationBoards</span><span class="o">;</span>

    <span class="c1">//send GET request and return response as List of objects</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Board</span><span class="o">&gt;</span> <span class="nf">getOrganizationBoards</span><span class="o">(</span><span class="n">Organization</span> <span class="n">organization</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">getOrganizationBoards</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">requestPathParams</span><span class="o">(</span><span class="s">"id"</span><span class="o">,</span> <span class="n">organization</span><span class="o">.</span><span class="na">getId</span><span class="o">())).</span><span class="na">getRaResponse</span><span class="o">().</span><span class="na">as</span><span class="o">(</span><span class="n">Board</span><span class="o">[].</span><span class="na">class</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>For convenient working with objects user can add additional wrapper methods to service classes.
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></p>
<h2 id='error-handling'>Error handling</h2><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ErrorHandler</span> <span class="o">{</span>
    <span class="kt">boolean</span> <span class="nf">hasError</span><span class="o">(</span><span class="n">RestResponse</span> <span class="n">restResponse</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">;</span>
    <span class="kt">void</span> <span class="nf">handleError</span><span class="o">(</span><span class="n">RestResponse</span> <span class="n">restResponse</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">;</span>
<span class="o">}</span>

<span class="c1">//example of implementation and using ErrorHandler</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ErrorHandlerTests</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">ServiceSettings</span> <span class="n">serviceSettings</span><span class="o">;</span>

    <span class="nd">@BeforeClass</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initServiceSettings</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">ErrorHandler</span> <span class="n">errorHandler</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ErrorHandler</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasError</span><span class="o">(</span><span class="n">RestResponse</span> <span class="n">restResponse</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
                <span class="c1">//only Client errors will be caught</span>
                <span class="k">return</span> <span class="n">ResponseStatusType</span><span class="o">.</span><span class="na">getStatusTypeFromCode</span><span class="o">(</span><span class="n">restResponse</span><span class="o">.</span><span class="na">getStatus</span><span class="o">().</span><span class="na">code</span><span class="o">)</span> <span class="o">==</span> <span class="n">ERROR</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handleError</span><span class="o">(</span><span class="n">RestResponse</span> <span class="n">restResponse</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
                <span class="n">Assert</span><span class="o">.</span><span class="na">fail</span><span class="o">(</span><span class="s">"Exception is caught: "</span> <span class="o">+</span> <span class="n">restResponse</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">};</span>
        <span class="n">serviceSettings</span> <span class="o">=</span> <span class="n">ServiceSettings</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">errorHandler</span><span class="o">(</span><span class="n">errorHandler</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@BeforeClass</span><span class="o">(</span><span class="n">dependsOnMethods</span> <span class="o">=</span> <span class="o">{</span><span class="s">"initServiceSettings"</span><span class="o">})</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initService</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">init</span><span class="o">(</span><span class="n">TrelloService</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">serviceSettings</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>JDI allows to setup custom behaviour for catching and processing any unexpected responses.</p>

<p>For this need inject implementation of ErrorHandler interface into RestMethods through call Service Object init() method.</p>

<p>By default JDI uses DefaultErrorHandler class for server (5XX) and client(4XX) errors.</p>
<h2 id='logging'>Logging</h2><pre class="highlight java tab-java"><code><span class="kd">private</span> <span class="kd">static</span> <span class="n">JFunc2</span><span class="o">&lt;</span><span class="n">RestMethod</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">RequestData</span><span class="o">&gt;,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">LOG_REQUEST_TEMP</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="n">JAction2</span><span class="o">&lt;</span><span class="n">RestResponse</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">LOG_RESPONSE_TEMP</span><span class="o">;</span>

<span class="nd">@BeforeClass</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">initService</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">init</span><span class="o">(</span><span class="n">JettyService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">LOG_REQUEST_TEMP</span> <span class="o">=</span> <span class="n">LOG_REQUEST</span><span class="o">;</span>
    <span class="n">LOG_RESPONSE_TEMP</span> <span class="o">=</span> <span class="n">LOG_RESPONSE</span><span class="o">;</span>
    <span class="n">LOG_REQUEST</span> <span class="o">=</span> <span class="k">this</span><span class="o">::</span><span class="n">logRequest</span><span class="o">;</span>
    <span class="n">LOG_RESPONSE</span> <span class="o">=</span> <span class="k">this</span><span class="o">::</span><span class="n">logResponse</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="n">String</span> <span class="nf">logRequest</span><span class="o">(</span><span class="n">RestMethod</span> <span class="n">restMethod</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">RequestData</span><span class="o">&gt;</span> <span class="n">requestData</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">MultiMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">queryparams</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MultiMap</span><span class="o">&lt;&gt;();</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">RequestData</span> <span class="n">rd</span> <span class="o">:</span> <span class="n">requestData</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">queryparams</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">rd</span><span class="o">.</span><span class="na">queryParams</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Do %s %s"</span><span class="o">,</span> <span class="n">restMethod</span><span class="o">.</span><span class="na">getType</span><span class="o">(),</span> <span class="n">restMethod</span><span class="o">.</span><span class="na">getUrl</span><span class="o">());</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
    <span class="c1">//Change request logging for allure</span>
    <span class="n">startStep</span><span class="o">(</span><span class="n">message</span><span class="o">,</span>
            <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"%s %s %s"</span><span class="o">,</span> <span class="n">restMethod</span><span class="o">.</span><span class="na">getType</span><span class="o">(),</span> <span class="n">restMethod</span><span class="o">.</span><span class="na">getUrl</span><span class="o">(),</span> <span class="n">queryparams</span><span class="o">));</span>
    <span class="k">return</span> <span class="n">message</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">logResponse</span><span class="o">(</span><span class="n">RestResponse</span> <span class="n">response</span><span class="o">,</span> <span class="n">String</span> <span class="n">uuid</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Received response with %s and body: %s"</span><span class="o">,</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">(),</span> <span class="n">response</span><span class="o">.</span><span class="na">getBody</span><span class="o">());</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
    <span class="c1">//Change response logging for allure</span>
    <span class="n">AllureLogger</span><span class="o">.</span><span class="na">passStep</span><span class="o">(</span><span class="n">message</span><span class="o">,</span> <span class="n">uuid</span><span class="o">);</span>
<span class="o">}</span>
<span class="nd">@AfterClass</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearLogger</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">LOG_REQUEST</span> <span class="o">=</span> <span class="n">LOG_REQUEST_TEMP</span><span class="o">;</span>
    <span class="n">LOG_RESPONSE</span> <span class="o">=</span> <span class="n">LOG_RESPONSE_TEMP</span><span class="o">;</span>
<span class="o">}</span>

</code></pre>
<p>By default JDI logging is defined in the next variables:</p>

<p><strong>LOG_REQUEST = RestMethod::logRequest</strong> located in package <em>com.epam.http.requests</em>, where logRequest method uses:</p>

<ul>
<li>ILogger object method info(String msg, Object... args) - for console logging<br></li>
<li>AllureLogger.startStep(String message, String requestData)  - for allure logging</li>
</ul>

<p><strong>LOG_RESPONSE = RestResponse::logResponse</strong> located in package <em>com.epam.http.response</em>, where logResponse method uses:</p>

<ul>
<li>ILogger object method info(String msg, Object... args) - for console logging<br></li>
<li>AllureLogger.passStep(String responseData, String uuid) - for allure logging<br></li>
</ul>

<p><strong>Customizing logging</strong> </p>

<p>For customizing logging you should redefine these static variables</p>

<ul>
<li>For customizing logger just for one or several tests -it&#39;s necessary to return logging variable in original state.<br></li>
<li>If it is used allure logging - don&#39;t forget to include allure logging in the redefining variable.<br></li>
<li>For customizing allure logging -it&#39;s necessary to redefine it in both variables: LOG_REQUEST and LOG_RESPONSE<br></li>
</ul>

<p>See full example with redefining variables for console logging and allure.
<a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/customsettings/LoggingCustomizeTests.java" target="_blank">Test example in Java</a></p>
<h2 id='response-data'>Response data</h2><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="n">ValidatableResponse</span> <span class="nf">isOk</span><span class="o">()</span>
<span class="kd">public</span> <span class="n">ValidatableResponse</span> <span class="nf">hasErrors</span><span class="o">()</span>
<span class="kd">public</span> <span class="n">ValidatableResponse</span> <span class="nf">isStatus</span><span class="o">(</span><span class="n">ResponseStatusType</span> <span class="n">type</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">RestResponse</span> <span class="nf">assertStatus</span><span class="o">(</span><span class="n">ResponseStatus</span> <span class="n">rs</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">ValidatableResponse</span> <span class="nf">isEmpty</span><span class="o">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="n">ValidatableResponse</span> <span class="nf">assertBody</span><span class="o">(</span><span class="n">MapArray</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Matcher</span><span class="o">&lt;?&gt;&gt;</span> <span class="n">params</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">ValidatableResponse</span> <span class="nf">assertBody</span><span class="o">(</span><span class="n">Object</span><span class="o">[][]</span> <span class="n">params</span><span class="o">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="n">String</span> <span class="nf">getFromHtml</span><span class="o">(</span><span class="n">String</span> <span class="n">path</span><span class="o">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="n">Response</span> <span class="nf">getRaResponse</span><span class="o">()</span>
<span class="kd">public</span> <span class="n">ValidatableResponse</span> <span class="nf">assertThat</span><span class="o">()</span>

<span class="kd">public</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="nf">cookies</span><span class="o">()</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">cookie</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">Headers</span> <span class="nf">headers</span><span class="o">()</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">header</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span>

<span class="kd">public</span> <span class="n">String</span> <span class="nf">getBody</span><span class="o">()</span>
<span class="kd">public</span> <span class="n">ResponseStatus</span> <span class="nf">getStatus</span><span class="o">()</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">getContentType</span><span class="o">()</span> 

</code></pre><pre class="highlight java tab-java"><code><span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">JettyService</span><span class="o">.</span><span class="na">getHello</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
<span class="n">assertThat</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">,</span> <span class="n">containsString</span><span class="o">(</span><span class="s">"{\"hello\":\"Hello Scalatra\"}"</span><span class="o">));</span>
<span class="n">String</span> <span class="n">body</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getBody</span><span class="o">();</span>

<span class="n">String</span> <span class="n">hello</span> <span class="o">=</span> <span class="n">JettyService</span><span class="o">.</span><span class="na">getHello</span><span class="o">.</span><span class="na">call</span><span class="o">().</span><span class="na">getRaResponse</span><span class="o">().</span><span class="na">jsonPath</span><span class="o">().</span><span class="na">getString</span><span class="o">(</span><span class="s">"hello"</span><span class="o">);</span>
</code></pre>
<p>The class <strong>com.epam.http.response.RestResponse</strong> represents Response data in JDI Dark.</p>

<p>Below are methods that allow to work with response data:</p>

<p><strong>isOk()</strong> and <strong>hasErrors()</strong> -  verify that status code is 2** or 4**, respectively.</p>

<p><strong>isStatus(ResponseStatusType type)</strong> and <strong>assertStatus(ResponseStatus rs)</strong> - verify response status type and response 
status respectively against expected result. </p>

<p><strong>assertBody(Object[][] params)</strong> and <strong>assertBody(MapArray<String, Matcher<?>&gt; params)</strong> - allow to verify response body</p>

<p><strong>cookies()</strong> and <strong>headers()</strong> - return response cookies and header values</p>

<p><strong>cookie(String name)</strong> and <strong>header(String name)</strong> - return cookie and header values respectively corresponding to specified names</p>

<p><strong>getFromHtml()</strong> -  returns html content of the page by provided path</p>

<p><strong>getRaResponse()</strong> and <strong>assertThat()</strong> returns Rest Assured Response and ValidatableResponse, 
so it is possible to use Rest Assured methods for validating response body.</p>

<p><strong>getBody()</strong>, <strong>getStatus()</strong>, <strong>getContentType()</strong> - allows to get response body, status and content type. 
Response body and status can be also retrieved using <em>body</em> and <em>status</em> fields of the RestResponse class.</p>

<p><strong>isEmpty()</strong> - verifies that response body is empty.</p>
<h2 id='headers'>Headers</h2>
<p>JDI Dark supports header addition to Service endpoints using annotations.</p>

<p><strong>Single header can be added with usage of @Header annotation:</strong>  </p>
<pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/header"</span><span class="o">)</span>
<span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Header_name"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Header_value2"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getHeader</span><span class="o">;</span>
</code></pre>
<p>Here&#39;s a simple example of adding a header to an endpoint
<br />
<br />
<br />
<br />
<br /></p>
<pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/multiHeaderReflect"</span><span class="o">)</span>
<span class="nd">@Headers</span><span class="o">({</span><span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Header_name"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Header_value"</span><span class="o">),</span>
<span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Header_name2"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Header_value2"</span><span class="o">)})</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getMultiHeaderReflect</span><span class="o">;</span>
</code></pre>
<p><strong>Multiple headers are also supported through @Headers annotation:</strong><br>
<br />
<br />
<br />
<br />
<br /></p>
<pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/header"</span><span class="o">)</span>
<span class="nd">@Headers</span><span class="o">({</span><span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Header_name"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Header_value"</span><span class="o">),</span>
<span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Header_name"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Header_value2"</span><span class="o">)})</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getHeader</span><span class="o">;</span>


<span class="nd">@GET</span><span class="o">(</span><span class="s">"/header"</span><span class="o">)</span>
<span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"some_header"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getHeaderWithNoValue</span><span class="o">;</span>


<span class="nd">@GET</span><span class="o">(</span><span class="s">"/multiHeaderReflect"</span><span class="o">)</span>
<span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"MultiValueHeader"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Header_value_1"</span><span class="o">,</span> <span class="n">additionalValues</span> <span class="o">=</span> <span class="s">"Header_value_2"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getMultiValueHeader</span><span class="o">;</span>
</code></pre>
<p><strong>Headers with same name, with no value and with multiple values can be added as well.</strong>  </p>

<p>@Headers annotation is used to add 2 headers with the same name - &quot;Header_name&quot;
<br />
<br />
<br />
<br />
@Header is used in this example to pass a header with name only
<br />
<br />
<br />
<br />
@Header is used here to pass a multiple-value header
<br />
<br />
<br />
<br />
<strong>Methods to add Headers to Request Data.</strong>  </p>

<p>Headers can be passed as strings, header objects, maps, and even arrays of objects.
Headers without value and with multiple values can be added as well.</p>
<pre class="highlight java tab-java"><code>
<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestDataAllowsSpecifyingHeaderWithoutServiceObjectMethods</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">getMultiHeaderReflect</span>
            <span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">headers</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="s">"MyHeader"</span><span class="o">,</span> <span class="s">"TestValue"</span><span class="o">));</span>
    <span class="n">response</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">().</span><span class="na">header</span><span class="o">(</span><span class="s">"MyHeader"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"TestValue"</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestSpecificationAllowsSpecifyingMultiValueHeadersWithoutServiceObjectMethod</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">getMultiHeaderReflect</span>
            <span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">headers</span><span class="o">().</span><span class="na">addAll</span><span class="o">(</span><span class="k">new</span> <span class="n">Object</span><span class="o">[][]{</span>
                    <span class="o">{</span><span class="s">"MyHeader"</span><span class="o">,</span> <span class="s">"Something"</span><span class="o">},</span>
                    <span class="o">{</span><span class="s">"MyHeader"</span><span class="o">,</span> <span class="s">"SomethingElse"</span><span class="o">}}));</span>
    <span class="n">response</span><span class="o">.</span><span class="na">isOk</span><span class="o">();</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">headers</span><span class="o">().</span><span class="na">getValues</span><span class="o">(</span><span class="s">"MyHeader"</span><span class="o">).</span><span class="na">size</span><span class="o">(),</span> <span class="n">is</span><span class="o">(</span><span class="mi">2</span><span class="o">));</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">headers</span><span class="o">().</span><span class="na">getValues</span><span class="o">(</span><span class="s">"MyHeader"</span><span class="o">),</span> <span class="n">hasItems</span><span class="o">(</span><span class="s">"Something"</span><span class="o">,</span> <span class="s">"SomethingElse"</span><span class="o">));</span>
<span class="o">}</span>

</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>headers().add(paramName, paramValue)</strong></td>
<td>pass name and value of header</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>headers().addAll(Object[][] array2D)</strong></td>
<td>pass array with header names and values</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>headers().addAll(Map map)</strong></td>
<td>pass map with header names and values</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>headers().addAll(Header... header)</strong></td>
<td>pass header objects</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>headers().add(String name)</strong></td>
<td>pass header name without value</td>
<td>RequestData</td>
</tr>
</tbody></table>
<h2 id='cookies'>Cookies</h2>
<p>JDI Dark supports addition of Cookies to Service endpoints.</p>

<p>Cookies with no value and with multiple values can be added as well.</p>
<pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/cookie"</span><span class="o">)</span>
<span class="nd">@Cookies</span><span class="o">({</span><span class="nd">@Cookie</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"username"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"John"</span><span class="o">),</span>
<span class="nd">@Cookie</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"token"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"1234"</span><span class="o">)})</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getCookie</span><span class="o">;</span>

<span class="nd">@GET</span><span class="o">(</span><span class="s">"/cookie_with_no_value"</span><span class="o">)</span>
<span class="nd">@Cookie</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"some_cookie"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getCookieWithNoValueWithCookies</span><span class="o">;</span>

<span class="nd">@GET</span><span class="o">(</span><span class="s">"/multiCookieRequest"</span><span class="o">)</span>
<span class="nd">@Cookie</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"key1"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"value1"</span><span class="o">,</span> <span class="n">additionalValues</span> <span class="o">=</span> <span class="s">"value2"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getMultiCookieWithCookies</span><span class="o">;</span>
</code></pre>
<p>There are methods to add cookies to Request Data. Cookies can be passed as name and value, name and value pairs, maps, and arrays of objects.</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>cookies().add(paramName, paramValue)</strong></td>
<td>pass name and value of cookie</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>cookies().addAll(Object[][] array2D)</strong></td>
<td>pass array with cookie names and values</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>cookies().addAll(Map map)</strong></td>
<td>pass map with cookie names and values</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>cookies().add(String name)</strong></td>
<td>pass cookie name without cookie</td>
<td>RequestData</td>
</tr>
<tr>
<td><strong>cookies().add(String name, String... values)</strong></td>
<td>pass header name without value</td>
<td>RequestData</td>
</tr>
</tbody></table>
<pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/cookie_with_no_value"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getCookieWithNoValue</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestResponse</span> <span class="nf">getCookieWithOnlyName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">getCookieWithNoValue</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">cookies</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">name</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@GET</span><span class="o">(</span><span class="s">"/cookie"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getCookie</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestResponse</span> <span class="nf">getCookieSpecifiedUsingMap</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">cookieMap</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">getCookie</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">cookies</span><span class="o">().</span><span class="na">addAll</span><span class="o">(</span><span class="n">cookieMap</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestSpecificationAllowsSpecifyingCookieWithNoValue</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">JettyService</span><span class="o">.</span><span class="na">getCookieWithOnlyName</span><span class="o">(</span><span class="s">"some_cookie"</span><span class="o">);</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getBody</span><span class="o">(),</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"some_cookie"</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestSpecificationAllowsSpecifyingCookieUsingMap</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">cookies</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedHashMap</span><span class="o">&lt;&gt;();</span>
    <span class="n">cookies</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"username"</span><span class="o">,</span> <span class="s">"John"</span><span class="o">);</span>
    <span class="n">cookies</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"token"</span><span class="o">,</span> <span class="s">"1234"</span><span class="o">);</span>

    <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">JettyService</span><span class="o">.</span><span class="na">getCookieSpecifiedUsingMap</span><span class="o">(</span><span class="n">cookies</span><span class="o">);</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getBody</span><span class="o">(),</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"username, token"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre><h2 id='proxy'>Proxy</h2><pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/greetJSON"</span><span class="o">)</span>
<span class="nd">@Proxy</span><span class="o">(</span><span class="n">host</span> <span class="o">=</span> <span class="s">"127.0.0.1"</span><span class="o">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">8888</span><span class="o">,</span> <span class="n">scheme</span> <span class="o">=</span> <span class="s">"http"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getGreenJSONWithProxyParams</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">usingProxyAnnotationOnServiceLayer</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"firstName"</span><span class="o">,</span> <span class="s">"John"</span><span class="o">);</span>
    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"lastName"</span><span class="o">,</span> <span class="s">"Doe"</span><span class="o">);</span>
    <span class="n">JettyService</span><span class="o">.</span><span class="na">getGreenJSONWithProxyParams</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">RequestData</span><span class="o">.</span><span class="na">requestData</span><span class="o">(</span><span class="n">queryParams</span><span class="o">().</span><span class="na">addAll</span><span class="o">(</span><span class="n">params</span><span class="o">))</span>
            <span class="o">.</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">().</span>
            <span class="n">body</span><span class="o">(</span><span class="s">"greeting.firstName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"John"</span><span class="o">)).</span>
            <span class="n">body</span><span class="o">(</span><span class="s">"greeting.lastName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Doe"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre>
<p>JDI Dark supports addition of Proxy parameters (host, port and scheme) to Service endpoints.</p>

<p>You can use the RestMethod class with a @Proxy annotation</p>

<p>There is method to add proxy parameters to Request Data. JDI Dark also supports making request calls with Rest Assured ProxySpecification.</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>setProxySpecification(String scheme, String host, int port)</strong></td>
<td>set proxy parameters to request data</td>
<td></td>
</tr>
</tbody></table>
<pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="s">"/greetJSON"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">getGreenJSON</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">usingProxyWithSetProxySpecification</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"firstName"</span><span class="o">,</span> <span class="s">"John"</span><span class="o">);</span>
    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"lastName"</span><span class="o">,</span> <span class="s">"Doe"</span><span class="o">);</span>
    <span class="n">JettyService</span><span class="o">.</span><span class="na">getGreenJSON</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">RequestData</span><span class="o">.</span><span class="na">requestData</span><span class="o">(</span><span class="n">rd</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">setProxySpecification</span><span class="o">(</span><span class="s">"http"</span><span class="o">,</span> <span class="s">"localhost"</span><span class="o">,</span> <span class="mi">8888</span><span class="o">);</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">queryParams</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
    <span class="o">})).</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">().</span>
            <span class="n">body</span><span class="o">(</span><span class="s">"greeting.firstName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"John"</span><span class="o">)).</span>
            <span class="n">body</span><span class="o">(</span><span class="s">"greeting.lastName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Doe"</span><span class="o">));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">usingProxySpecification</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"firstName"</span><span class="o">,</span> <span class="s">"John"</span><span class="o">);</span>
    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"lastName"</span><span class="o">,</span> <span class="s">"Doe"</span><span class="o">);</span>
    <span class="n">JettyService</span><span class="o">.</span><span class="na">getGreenJSON</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">RequestData</span><span class="o">.</span><span class="na">requestData</span><span class="o">(</span><span class="n">rd</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">queryParams</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">proxySpecification</span> <span class="o">=</span> <span class="n">ProxySpecification</span><span class="o">.</span><span class="na">host</span><span class="o">(</span><span class="s">"localhost"</span><span class="o">);</span>
    <span class="o">})).</span><span class="na">isOk</span><span class="o">().</span><span class="na">assertThat</span><span class="o">().</span>
            <span class="n">body</span><span class="o">(</span><span class="s">"greeting.firstName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"John"</span><span class="o">)).</span>
            <span class="n">body</span><span class="o">(</span><span class="s">"greeting.lastName"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Doe"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre><h2 id='authentication'>Authentication</h2><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">basicAuthTest</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">BasicAuthScheme</span> <span class="n">basicAuth</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BasicAuthScheme</span><span class="o">();</span>
        <span class="n">basicAuth</span><span class="o">.</span><span class="na">setUserName</span><span class="o">(</span><span class="s">"postman"</span><span class="o">);</span>
        <span class="n">basicAuth</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">"password"</span><span class="o">);</span>
        <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">postmanAuthBasic</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">auth</span><span class="o">(</span><span class="n">basicAuth</span><span class="o">));</span>
        <span class="n">assertEquals</span><span class="o">(</span><span class="n">resp</span><span class="o">.</span><span class="na">status</span><span class="o">.</span><span class="na">code</span><span class="o">,</span> <span class="n">HttpStatus</span><span class="o">.</span><span class="na">SC_OK</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre>
<p>Authentication is performed using AuthenticationScheme interface. Many authentication methods are supported in 
RestAssured, so the following methods are already implemented: Basic, Digest, NTLM, OAuth1, OAuth2, Form, Certificate
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br></p>
<pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">customAuthScheme</span> <span class="kd">implements</span> <span class="n">AuthenticationScheme</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">customAuthKey</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCustomAuthKey</span><span class="o">(</span><span class="n">String</span> <span class="n">customAuthKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">customAuthKey</span> <span class="o">=</span> <span class="n">customAuthKey</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">authenticate</span><span class="o">(</span><span class="n">HTTPBuilder</span> <span class="n">httpBuilder</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">httpBuilder</span><span class="o">.</span><span class="na">getClient</span><span class="o">().</span><span class="na">addRequestInterceptor</span><span class="o">(</span>
                <span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span>
                        <span class="n">request</span><span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">customAuthKey</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>In order to create a custom authentication scheme one have to implement AuthenticationScheme interface, realising authenticate() method.
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br></p>
<pre class="highlight java tab-java"><code><span class="nd">@BeforeClass</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">BasicAuthScheme</span> <span class="n">authScheme</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BasicAuthScheme</span><span class="o">();</span>
    <span class="n">authScheme</span><span class="o">.</span><span class="na">setUserName</span><span class="o">(</span><span class="s">"postman"</span><span class="o">);</span>
    <span class="n">authScheme</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">"password"</span><span class="o">);</span>
    <span class="n">init</span><span class="o">(</span><span class="n">AuthorizationPostman</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">ServiceSettings</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">authenticationScheme</span><span class="o">(</span><span class="n">authScheme</span><span class="o">).</span><span class="na">build</span><span class="o">());</span>
    <span class="o">}</span>
</code></pre>
<p>Authentication can be instantiated on service level. To do so authentication scheme should be passed to service settings at service init.
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br></p>

<p>If new authentication is also passed on test level, service level authentication will be overrode.</p>
<h2 id='parallel-running'>Parallel running</h2><pre class="highlight java tab-java"><code> <span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"1.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"WINDOWS-1251"</span><span class="o">?&gt;</span>
 <span class="o">&lt;!</span><span class="n">DOCTYPE</span> <span class="n">suite</span> <span class="n">SYSTEM</span> <span class="s">"http://testng.org/testng-1.0.dtd"</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="n">suite</span> <span class="n">name</span><span class="o">=</span><span class="s">"Http tests"</span> <span class="n">data</span><span class="o">-</span><span class="n">provider</span><span class="o">-</span><span class="n">thread</span><span class="o">-</span><span class="n">count</span><span class="o">=</span><span class="s">"3"</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">test</span> <span class="n">name</span><span class="o">=</span><span class="s">"parallel classes running"</span> <span class="n">parallel</span><span class="o">=</span><span class="s">"classes"</span> <span class="n">thread</span><span class="o">-</span><span class="n">count</span><span class="o">=</span><span class="s">"4"</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">classes</span><span class="o">&gt;</span>
             <span class="o">&lt;</span><span class="kd">class</span> <span class="nc">name</span><span class="o">=</span><span class="s">"com.epam.jdi.httptests.examples.custom.ResponseTests"</span><span class="o">/&gt;</span>
             <span class="o">&lt;</span><span class="kd">class</span> <span class="nc">name</span><span class="o">=</span><span class="s">"com.epam.jdi.httptests.examples.custom.AdvancedValidationTests"</span><span class="o">/&gt;</span>
         <span class="o">&lt;/</span><span class="n">classes</span><span class="o">&gt;</span>
     <span class="o">&lt;/</span><span class="n">test</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">test</span> <span class="n">name</span><span class="o">=</span><span class="s">"parallel methods running"</span> <span class="n">parallel</span><span class="o">=</span><span class="s">"methods"</span> <span class="n">thread</span><span class="o">-</span><span class="n">count</span><span class="o">=</span><span class="s">"4"</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">classes</span><span class="o">&gt;</span>
             <span class="o">&lt;</span><span class="kd">class</span> <span class="nc">name</span><span class="o">=</span><span class="s">"com.epam.jdi.httptests.examples.custom.JSONPostTests"</span><span class="o">/&gt;</span>
         <span class="o">&lt;/</span><span class="n">classes</span><span class="o">&gt;</span>
     <span class="o">&lt;/</span><span class="n">test</span><span class="o">&gt;</span>
 <span class="o">&lt;/</span><span class="n">suite</span><span class="o">&gt;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="nd">@DataProvider</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"createNewBoards"</span><span class="o">,</span> <span class="n">parallel</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">Object</span><span class="o">[][]</span> <span class="nf">createNewBoards</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">Object</span><span class="o">[][]</span> <span class="o">{</span>
            <span class="o">{</span><span class="n">generateBoard</span><span class="o">()},</span>
            <span class="o">{</span><span class="n">generateBoard</span><span class="o">()},</span>
            <span class="o">{</span><span class="n">generateBoard</span><span class="o">()}</span>
    <span class="o">};</span>
<span class="o">}</span>

<span class="nd">@Test</span><span class="o">(</span><span class="n">dataProvider</span> <span class="o">=</span> <span class="s">"createNewBoards"</span><span class="o">,</span> <span class="n">threadPoolSize</span> <span class="o">=</span> <span class="mi">3</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">createCardInBoard</span><span class="o">(</span><span class="n">Board</span> <span class="n">board</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//Crеate board</span>
    <span class="n">Board</span> <span class="n">createdBoard</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">createBoard</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
    <span class="n">Board</span> <span class="n">gotBoard</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">getBoard</span><span class="o">(</span><span class="n">createdBoard</span><span class="o">.</span><span class="na">id</span><span class="o">);</span>
    <span class="n">assertEquals</span><span class="o">(</span><span class="n">gotBoard</span><span class="o">.</span><span class="na">name</span><span class="o">,</span> <span class="n">createdBoard</span><span class="o">.</span><span class="na">name</span><span class="o">,</span> <span class="s">"Name of created board is incorrect"</span><span class="o">);</span>   
<span class="o">}</span>
</code></pre>
<p>Here is an example of the parallel tests running based on the TestNG approach. 
 <br />
 <br />
<strong>Setting TestNG xml suite file for the parallel tests running</strong>  </p>

<ol>
<li>Specify the <em>parallel</em> attribute in the tag <em>suite</em> or <em>test</em><br>
Set <em>parallel=&quot;methods&quot;</em> to run test <strong>methods</strong> in separate threads 
<br />
Set <em>parallel=&quot;classes&quot;</em> to run test <strong>classes</strong> in separate threads </li>
<li>Specify the number of threads allocated for the execution in the attribute <em>thread-count</em> </li>
<li>For Data Providers parallel running specify the count of threads in the <em>data-provider-thread-count</em> attribute of the tag <em>suite</em></li>
</ol>

<p><strong>Setting Data Provider for the parallel running directly in the test</strong>  </p>

<ol>
<li>Add the attribute <em>parallel</em> = true to the @DataProvider annotation. (By default the count of threads = 10)<br></li>
<li>Specify the count of threads in the attribute <em>threadPoolSize</em> in @DataProvider annotation </li>
</ol>

<p><a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/resources/parallelRunningExamples.xml" target="_blank">Parallel suite example</a> </p>

<p>Read more about <a href="https://testng.org/doc/documentation-main.html#parallel-running" target="_blank">TestNG parallel running</a> </p>
<h2 id='performance-testing'>Performance testing</h2><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">static</span> <span class="n">PerformanceResult</span> <span class="nf">loadService</span><span class="o">(</span><span class="kt">long</span> <span class="n">liveTimeSec</span><span class="o">,</span> <span class="n">RestMethod</span><span class="o">...</span> <span class="n">requests</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">PerformanceResult</span> <span class="nf">loadService</span><span class="o">(</span><span class="n">RestMethod</span><span class="o">...</span> <span class="n">requests</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">PerformanceResult</span> <span class="nf">loadService</span><span class="o">(</span><span class="kt">long</span> <span class="n">liveTimeMSec</span><span class="o">,</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">RestMethod</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">weightRequests</span><span class="o">)</span>
</code></pre>
<p>Simple performance testing is supported by JDI Dark. There is a <em>com.epam.http.performance</em> package available that contains
several classes and methods for collecting request statistics.</p>

<p>You can load your service and get average response time and number of fails compared to amount of requests. Just use the <em>loadService()</em> method with suitable signatures.</p>
<h2 id='reporting'>Reporting</h2>
<p>If you want to use Allure framework for reporting, JDI Dark has out-of-the-box support for generating attachments for Allure reports.
Simply install Allure as you would normally do, and those attachments will be automatically added to your reports.</p>

<p>All test execution results are saved to the <strong>base_directory/allure-results</strong> folder.</p>

<p>If you use <code>maven</code>, then you will need to configure the <code>Allure maven plugin</code> to fetch results from a custom folder.</p>
<pre class="highlight plaintext"><code>&lt;configuration&gt;
    &lt;resultsDirectory&gt;${basedir}/allure-results&lt;/resultsDirectory&gt;
&lt;/configuration&gt;
</code></pre>
<p>After generating allure results, the full request and response information will be attached to every test executed.</p>

<p>Here is an example of an Allure report with request body attached:</p>

<p><img src="images/allure_request.png" alt="Allure Request" /></p>
<h2 id='retry-request-option'>Retry Request Option</h2><pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"503"</span><span class="o">)</span>
<span class="nd">@RetryOnFailure</span><span class="o">(</span><span class="n">numberOfRetryAttempts</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">delay</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">get503</span><span class="o">;</span>
</code></pre>
<p>Annotation @RetryOnFailure created for resending request when the service responds with one of the statuses you define.
<br><br>
For example, if status codes 502 - more likely it&#39;s temporary server-side issue and retrying request will give successful result.
<br></p>
<pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"451"</span><span class="o">)</span>
<span class="nd">@RetryOnFailure</span><span class="o">(</span><span class="n">numberOfRetryAttempts</span> <span class="o">=</span> <span class="mi">6</span><span class="o">,</span> <span class="n">errorCodes</span> <span class="o">=</span> <span class="mi">451</span><span class="o">,</span><span class="n">delay</span> <span class="o">=</span> <span class="mi">15</span><span class="o">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">NANOSECONDS</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">get451</span><span class="o">;</span>
</code></pre>
<p><strong>Annotation has parameters to specify:</strong> </p>

<ol>
<li>numberOfRetryAttempts - how many times retry request after failing one.<br></li>
<li>errorCodes - on which status codes retry request.<br></li>
<li>delay - after what time to repeat the request.<br></li>
<li>unit - time unit of delay time<br></li>
</ol>
<pre class="highlight java tab-java"><code><span class="nd">@RetryOnFailure</span>
<span class="nd">@ServiceDomain</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"http://localhost:8080/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RetryingService</span> <span class="o">{</span>

    <span class="nd">@GET</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">get502</span><span class="o">;</span>

    <span class="nd">@GET</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"501"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">get501</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
<p><strong>@RetryOnFailure can be applied to class and to field:</strong>  </p>

<p>JDI Dark will merge annotations data if it&#39;s 
were placed in both places - so you need to specify annotation data only if you want to change some parameters to specific 
endpoint.<br></p>

<p><strong>Default annotation param values are:</strong>  </p>

<ol>
<li>numberOfRetryAttempts - 3<br></li>
<li>errorCodes - {502,503}<br></li>
<li>delay - 10<br></li>
<li>unit - TimeUnit.MICROSECONDS
<br></li>
</ol>
<pre class="highlight java tab-java"><code><span class="nd">@GET</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"502"</span><span class="o">)</span>
<span class="nd">@IgnoreRetry</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">RestMethod</span> <span class="n">ignoreRetrying</span><span class="o">;</span>
</code></pre>
<p><strong>@RetryOnFailure placed on class can be ignored by adding @IgnoreRetry to field:</strong>  </p>

<p>In that case even if status code will be in specified list of errorCodes no retry requests will be send.</p>
<h2 id='service-parameterization'>Service parameterization</h2><pre class="highlight java tab-java"><code><span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"${trello}"</span><span class="o">)</span>
<span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"key"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"3445103a21ddca2619eaceb0e833d0db"</span><span class="o">)</span>
<span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"token"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"a9b951262e529821308e7ecbc3e4b7cfb14a24fef5ea500a68c69d374009fcc0"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrelloService</span> <span class="o">{</span>

<span class="o">}</span>
</code></pre>
<p>JDI Dark gives you opportunity to configure your service objects via .properties files.</p>

<p><strong>To use it:</strong></p>
<pre class="highlight java tab-java"><code><span class="n">domain</span><span class="o">=</span><span class="n">local</span><span class="o">=</span><span class="nl">http:</span><span class="c1">//localhost:8080, trello=https://api.trello.com/1</span>
<span class="n">log</span><span class="o">.</span><span class="na">level</span><span class="o">=</span><span class="n">INFO</span>
</code></pre>
<ol>
<li>Create .properties file with your service host in format: service.name = service.url</li>
<li>Place it to src/test/resources/</li>
<li>Declare annotation <strong>@ServiceDomain</strong> on service class.</li>
<li>Specify parameter &quot;value&quot; with key of variable placed in your .properties: <strong>@ServiceDomain(&quot;${service.name}&quot;)</strong> </li>
<li>Let know JDI Dark about your .properties file, there are ways:

<ul>
<li><strong>Manual way:</strong>

<ul>
<li>Go to src/test/resources/pom.properties</li>
<li>Change ${profile} to name of your .properties file without extension</li>
</ul></li>
<li><strong>Maven:</strong>

<ul>
<li><code>mvn clean install -DBUILD_PROFILE=name of your .properties</code>
<br><strong>or</strong><br></li>
<li> <code>EXPORT BUILD_PROFILE=name of your .properties file &amp;&amp; mvn clean install</code></li>
</ul></li>
<li><strong>Gradle:</strong>

<ul>
<li><code>gradlew clean build -PBUILD_PROFILE=name of your .properties file</code> 
<br><strong>or</strong><br></li>
<li><code>gradlew clean build -DBUILD_PROFILE=name of your .properties file</code>
<br><strong>or</strong><br></li>
<li><code>EXPORT BUILD_PROFILE=name of your .properties file &amp;&amp; gradlew clean build</code></li>
</ul></li>
</ul></li>
</ol>
<h2 id='access-restassured'>Access RestAssured</h2><h3 id='accessing-restassured-config'>Accessing RestAssured.config</h3>
<p>Sometime, for testing purposes, some RestAssured configuration properties might be changed.
You can access RestAssured from test or define desired properties in @BeforeTest.</p>

<p>In the code snippet we have a test example using default headers set in RestAssured config.
In order to restore the initial RestAssured config after test execution, the <code>reset()</code> method is called.</p>

<p><em>For configuring one request settings see <a href="https://jdi-docs.github.io/jdi-dark/#request-data">Request data - RequestSpecification config</a></em></p>
<pre class="highlight java tab-java"><code>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">followsRedirectsWhileKeepingHeadersSpecifiedIfRestAssuredConfig</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Header</span><span class="o">&gt;</span> <span class="n">httpClientHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Header</span><span class="o">&gt;();</span>
        <span class="n">httpClientHeaders</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">BasicHeader</span><span class="o">(</span><span class="s">"header1"</span><span class="o">,</span> <span class="s">"value1"</span><span class="o">));</span>
        <span class="n">httpClientHeaders</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">BasicHeader</span><span class="o">(</span><span class="s">"header2"</span><span class="o">,</span> <span class="s">"value2"</span><span class="o">));</span>
        <span class="n">RestAssured</span><span class="o">.</span><span class="na">config</span> <span class="o">=</span> <span class="n">RestAssuredConfig</span><span class="o">.</span><span class="na">newConfig</span><span class="o">().</span><span class="na">httpClient</span><span class="o">(</span><span class="n">HttpClientConfig</span>
                <span class="o">.</span><span class="na">httpClientConfig</span><span class="o">().</span><span class="na">setParam</span><span class="o">(</span><span class="n">DEFAULT_HEADERS</span><span class="o">,</span> <span class="n">httpClientHeaders</span><span class="o">));</span>
        <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">getRedirect</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">requestQueryParams</span><span class="o">(</span><span class="s">"url"</span><span class="o">,</span> <span class="s">"multiHeaderReflect"</span><span class="o">));</span>
        <span class="n">response</span><span class="o">.</span><span class="na">isOk</span><span class="o">();</span>
        <span class="n">response</span><span class="o">.</span><span class="na">assertThat</span><span class="o">().</span><span class="na">header</span><span class="o">(</span><span class="s">"header1"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"value1"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"header2"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"value2"</span><span class="o">));</span>
        <span class="n">RestAssured</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre><h2 id='jdi-dark-bdd-steps'>JDI Dark BDD Steps</h2>
<p>JDI Dark supports writing tests in BDD style. Create your tests using next steps:</p>
<pre class="highlight gherkin tab-gherkin"><code><span class="kd">Feature</span><span class="p">:</span> Request headers check

  <span class="kn">Scenario</span><span class="p">:</span> Pass headers and check response
    <span class="nf">Given</span> init service example
    <span class="nf">When</span> set request headers
      <span class="p">|</span> <span class="nv">Name</span> <span class="p">|</span> <span class="nv">Katarina</span> <span class="p">|</span>
      <span class="p">|</span> <span class="n">Id</span>   <span class="p">|</span> <span class="n">1</span>        <span class="p">|</span>
    <span class="nf">And</span> perform 'get' request
    <span class="nf">And</span> print response
    <span class="nf">Then</span> response status type is OK
    <span class="nf">And</span> response parameter 'headers.Name' is 'Katarina'
    <span class="nf">And</span> response parameter 'headers.Id' is '1'

</code></pre>
<p><strong>Actions</strong></p>

<p><em>When</em> perform &quot;&lt;METHOD&gt;&quot; request<br>
<em>When</em> set request content type to &quot;&lt;CONTENT-TYPE&gt;&quot;<br>
<em>When</em> perform &quot;&lt;METHOD NAME&gt;&quot; request with named path parameters &quot;&lt;PATH PARAMETERS&gt;&quot;<br>
<em>When</em> perform &quot;&lt;METHOD NAME&gt;&quot; request with query parameters &quot;&lt;QUERY PARAMETERS&gt;&quot;<br>
<em>When</em> set request headers:<br>
    |&lt;GHERKIN DATA TABLE&gt;|<br>
<em>When</em> print response<br>
<em>When</em> load service for &quot;&lt;SECONDS&gt;&quot; seconds with &quot;&lt;METHOD NAME&gt;&quot; request<br>
<em>When</em> print number of performance results requests    </p>

<p><strong>Validations</strong></p>

<p><em>Then</em> &quot;&lt;METHOD NAME&gt;&quot; method is alive 
<em>Then</em> response status code is &quot;&lt;STATUS CODE&gt;&quot;<br>
<em>Then</em> response body is empty<br>
<em>Then</em> response status type is &quot;&lt;TYPE&gt;&quot;<br>
<em>Then</em> response parameter &quot;&lt;PARAMETER&gt;&quot; is &quot;&lt;VALUE&gt;&quot;<br>
<em>Then</em> response parameter &quot;&lt;PARAMETER&gt;&quot; contains &quot;&lt;VALUE&gt;&quot;<br>
<em>Then</em> response body has values:<br>
   |&lt;GHERKIN DATA TABLE&gt;|<br>
<em>Then</em> the average response time is less than &quot;&lt;SECONDS&gt;&quot; seconds<br>
<em>Then</em> response header &quot;&lt;HEADER&gt;&quot; is &quot;&lt;VALUE&gt;&quot;<br>
<em>Then</em> performance result doesn&#39;t have any fails</p>

<p>See more information in the <a href="https://jdi-docs.github.io/jdi-dark/#4-jdi-dark-and-cucumber" target="_blank">Tutorial</a>.
<br>
See Cucumber examples <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-bdd-tests/src/test/resources/features" target="_blank">here</a>.
<br></p>
<h2 id='websockets'>WebSockets</h2>
<p>Use JDI Dark module <em>jdi-dark-ws</em> for working with sockets.</p>
<h3 id='jdi-dark-methods-for-websockets'>JDI Dark methods for WebSockets</h3>
<p>For working with sockets create the WebSocket class extending the JdiWSServer class. Mark it with the annotation @ServerEndpoint(&quot;&quot;)</p>

<p>There are available methods for working with sockets:  </p>
<pre class="highlight java tab-java"><code><span class="nd">@ServerEndpoint</span><span class="o">(</span><span class="s">""</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrelloSocket</span> <span class="kd">extends</span> <span class="n">JdiWSServer</span> <span class="o">{</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrelloTest</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">TrelloSocket</span> <span class="n">trelloSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrelloSocket</span><span class="o">();</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">checkMessages</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">InterruptedException</span><span class="o">,</span> <span class="n">DeploymentException</span><span class="o">,</span> <span class="n">URISyntaxException</span> <span class="o">{</span>
        <span class="n">trelloSocket</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="s">"wss://trello.com/1/Session/socket?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">);</span>
        <span class="n">trelloSocket</span><span class="o">.</span><span class="na">sendMessage</span><span class="o">(</span><span class="s">"{\"type\":\"subscribe\",\"modelType\":\"Member\",\"idModel\":\"5e8ef65b384f806fbb911f5d\",\"tags\":[\"messages\",\"updates\"],\"invitationTokens\":[],\"reqid\":5}"</span><span class="o">);</span>
        <span class="n">trelloSocket</span><span class="o">.</span><span class="na">waitNewMessage</span><span class="o">(</span><span class="mi">30</span><span class="o">);</span>     
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>connect(URI path)</strong></td>
<td>connects to the URI</td>
<td>void</td>
</tr>
<tr>
<td><strong>connect(String path)</strong></td>
<td>connects to specified path</td>
<td>void</td>
</tr>
<tr>
<td><strong>closeSession()</strong></td>
<td>closes the session</td>
<td>void</td>
</tr>
<tr>
<td><strong>sendMessage(String text)</strong></td>
<td>sends the web-socket message as a String</td>
<td>void</td>
</tr>
<tr>
<td><strong>sendMessage(Object object)</strong></td>
<td>sends the web-socket message as an Object</td>
<td>void</td>
</tr>
<tr>
<td><strong>sendBinary(ByteBuffer data)</strong></td>
<td>sends the web-socket message as a binary data</td>
<td>void</td>
</tr>
<tr>
<td><strong>waitNewMessage(int sec)</strong></td>
<td>waiting for the message</td>
<td>void</td>
</tr>
<tr>
<td><strong>waitAndGetNewMessage(int sec)</strong></td>
<td>waiting for the message and return it</td>
<td>JsonElement</td>
</tr>
<tr>
<td><strong>waitNewMessages(int count, int sec)</strong></td>
<td>waiting for the messages</td>
<td>void</td>
</tr>
<tr>
<td><strong>waitNewMessageMatches(String regex, int maxMsgCount, int sec)</strong></td>
<td>waiting the message which matches to regexp</td>
<td>void</td>
</tr>
<tr>
<td><strong>waitNewMessageContainsText(String text, int maxMsgCount, int sec)</strong></td>
<td>waiting the message which contains the specified text</td>
<td>void</td>
</tr>
<tr>
<td><strong>waitNewMessageContainsKey(String key, int maxMsgCount, int sec)</strong></td>
<td>waiting the message which contains the specified JSON key</td>
<td>void</td>
</tr>
<tr>
<td><strong>getNewMessageAsJsonObject()</strong></td>
<td>get the message as Object</td>
<td>JsonObject</td>
</tr>
<tr>
<td><strong>clearMessages()</strong></td>
<td>clear the received messages</td>
<td>void</td>
</tr>
</tbody></table>

<p>See test examples <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/websockettest/TrelloTest.java" target="_blank">here</a>.</p>
<h2 id='soap'>SOAP</h2><h3 id='creating-service-object'>Creating Service Object</h3><pre class="highlight java tab-java"><code><span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"https://geoservices.tamu.edu/Services/Geocode/WebService/GeocoderService_V04_01.asmx"</span><span class="o">)</span>
<span class="nd">@SOAPNamespace</span><span class="o">(</span><span class="s">"https://geoservices.tamu.edu/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GeoServices</span> <span class="o">{</span>

    <span class="nd">@POST</span><span class="o">()</span>
    <span class="nd">@SOAPAction</span><span class="o">(</span><span class="s">"https://geoservices.tamu.edu/GeocodeAddressNonParsed"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">SoapMethod</span><span class="o">&lt;</span><span class="n">GeocodeAddressNonParsed</span><span class="o">,</span> <span class="n">GeocodeAddressNonParsedResponse</span><span class="o">&gt;</span> <span class="n">geocodeAddressNonParsed</span><span class="o">;</span>

    <span class="nd">@POST</span><span class="o">()</span>
    <span class="nd">@SOAP12</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">SoapMethod</span><span class="o">&lt;</span><span class="n">GeocodeAddressNonParsed</span><span class="o">,</span> <span class="n">GeocodeAddressNonParsedResponse</span><span class="o">&gt;</span> <span class="n">geocodeAddressNonParsed12</span><span class="o">;</span>
<span class="o">}</span>

</code></pre>
<p>Available annotations for Service Object:</p>

<table><thead>
<tr>
<th>Annotation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>@ServiceDomain(&quot;value&quot;)</strong></td>
<td>represents the domain name</td>
</tr>
<tr>
<td><strong>@POST()</strong></td>
<td>represents HTTP post method</td>
</tr>
<tr>
<td><strong>@URL(&quot;value&quot;)</strong></td>
<td>represents URL for SOAP request</td>
</tr>
<tr>
<td><strong>@SOAPNamespace(&quot;value&quot;)</strong></td>
<td>represents SOAP namespace</td>
</tr>
<tr>
<td><strong>@SOAP12</strong></td>
<td>represents SOAP 1.2</td>
</tr>
<tr>
<td><strong>@SOAPAction(&quot;value&quot;)</strong></td>
<td>add SOAPAction header to the SOAP request</td>
</tr>
</tbody></table>

<p>See service examples <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/main/java/com/epam/jdi/soap" target="_blank">here</a>.</p>
<h3 id='creating-objects'>Creating Objects</h3>
<p>Generate objects from your WSDL scheme using <a href="https://jdi-docs.github.io/jdi-dark/#soap-objects-generation-from-wsdl" target="_blank">JDI Dark generator</a>.</p>
<h3 id='jdi-dark-methods-for-soap'>JDI Dark Methods for SOAP</h3>
<p>For working with SOAP use <strong>SoapMethod &lt;T, S&gt; class</strong> in package <em>com.epam.http.requests</em>, where T - class describing the body of sending message, S - class describing body of the received message.</p>

<p>Available methods for SoapMethod:</p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>callSoap(T object)</strong></td>
<td>makes SOAP request and get SOAP answer</td>
<td>S Object</td>
</tr>
<tr>
<td><strong>withSoapHeader(Object header)</strong></td>
<td>adds header to the SOAP message</td>
<td>SoapMethod &lt;T, S&gt; object</td>
</tr>
</tbody></table>
<h3 id='creating-tests'>Creating tests</h3><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GeoServicesTests</span> <span class="o">{</span>

    <span class="nd">@BeforeTest</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">init</span><span class="o">(</span><span class="n">GeoServices</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">negativeGeocodeAddressNonParsed</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">GeocodeAddressNonParsedResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">GeoServices</span><span class="o">.</span><span class="na">geocodeAddressNonParsed</span><span class="o">.</span><span class="na">callSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">GeocodeAddressNonParsed</span><span class="o">()</span>
                <span class="o">.</span><span class="na">withStreetAddress</span><span class="o">(</span><span class="s">"9355 Burton Way"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withCity</span><span class="o">(</span><span class="s">"Beverly Hills"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withState</span><span class="o">(</span><span class="s">"ca"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withZip</span><span class="o">(</span><span class="s">"90210"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withApiKey</span><span class="o">(</span><span class="s">"wrong"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withVersion</span><span class="o">(</span><span class="mf">4.01</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withShouldCalculateCensus</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withCensusYear</span><span class="o">(</span><span class="n">CensusYear</span><span class="o">.</span><span class="na">ALL_AVAILABLE</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withShouldNotStoreTransactionDetails</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
        <span class="o">);</span>
        <span class="n">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getGeocodeAddressNonParsedResult</span><span class="o">().</span><span class="na">getQueryStatusCodes</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">QueryStatusCodes</span><span class="o">.</span><span class="na">API_KEY_INVALID</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>Service object class can be initialized in tests. Fields of initialized object can be used to send requests from tests.</p>

<p>See test examples <a href="https://github.com/jdi-testing/jdi-dark/blob/master/jdi-dark-tests/src/test/java/com/epam/jdi/httptests/examples/soap" target="_blank">here</a>.</p>
<h2 id='review-guide'>Review Guide</h2><h3 id='easy-way-to-pass-review'>Easy way to pass review</h3>
<ul>
<li>Good code style</li>
<li><code>Ctrl+Alt+O</code> &amp; <code>Ctrl+Alt+L</code> (replace <code>Ctrl</code> with <code>Cmd</code> on MAC) in IDEA IDE before any commit</li>
<li>Right branch and label in PR</li>
</ul>
<h3 id='short-checklist'>Short checklist</h3>
<ol>
<li>Branch</li>
<li>Label</li>
<li>Codacy</li>
<li>*Other checks</li>
<li>Modified files</li>
</ol>
<h3 id='detailed-list'>Detailed list</h3>
<ol>
<li>Codacy check should pass. If it doesn&#39;t, you need to check what&#39;s wrong.</li>
<li>*When Travis will be fixed</li>
<li>Also, while reviewing files, you can mark them with checkboxes. The following should be checked:

<ul>
<li>Code style</li>
<li>Understandable naming</li>
<li>Unnecessary empty lines and spaces</li>
<li>Unnecessary or obsolete comments</li>
<li>Chaining should be separated by lines</li>
</ul></li>
</ol>
<h3 id='recommended-tools'>Recommended tools</h3>
<ol>
<li>Intellij IDEA</li>
<li>Git</li>
</ol>
<h3 id='using-libraries'>Using libraries</h3>
<ol>
<li>Log library: slf4j + logback-classic (TO_VERIFY)</li>
<li>Test runner: TestNG (TO_VERIFY)</li>
<li>Reporter: Allure Framework (TO_VERIFY)</li>
<li>Test framework: JDI (TO_VERIFY)</li>
</ol>
<h3 id='intellij-idea-preferences'>Intellij IDEA Preferences</h3>
<ol>
<li>Preferences -&gt; Version Control -&gt; Commit Dialog &gt; Before commit block, check boxes: Reformat Code, Rearrange code, Optimize imports</li>
<li>Inside the app press hotkeys: <code>Ctrl+Shift+Alt+L</code> (<code>Cmd+Shift+Alt+L</code> for MAC), check boxes: Optimize imports, Rearrange Code</li>
<li>When you work on applying autoreformatting, use (for file / directory) <code>Ctrl-Alt-L</code> combination</li>
<li>To open any class instantly by its name, use <code>Ctrl+N</code> (<code>Cmd+O</code> for MAC)</li>
<li>Be sure that the following are NOT checked: Settings -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Tabs and Indents -&gt; Use tab character</li>
<li>Be sure that the following equals to 4: Settings -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Tabs and Indents -&gt; Tab size field and Indent field</li>
<li>Turn off wildcard imports: set  the following to 999: Settings -&gt; Editor -&gt; Code style -&gt; Java -&gt; Imports -&gt; Class count to use imports with <code>*</code> field and Names count to use static imports with <code>*</code></li>
</ol>
<h3 id='cvs-section'>CVS section</h3>
<ol>
<li>Use Git

<ul>
<li>Name branches with useful names </li>
</ul></li>
<li>Merge code into any branch only through GitHub pull request (PR)

<ul>
<li>Name PR with useful name</li>
</ul></li>
<li>Before adding reviewers to your PR, make sure: 

<ul>
<li>there are no codacy issues</li>
<li>your code is ready for review</li>
<li>you have pushed latest changes</li>
<li>you have merged latest changes from your target branch</li>
<li>there are no merge conflicts</li>
<li>you have addressed all review comments (if applicable)</li>
</ul></li>
<li>Add DarkReviewTeam as reviewers or re-request review (if there are already reviewers in PR)</li>
<li>When you get a request for review changes you should resolve all issues and re-request code review from the same reviewers</li>
<li>Repeat until branch is merged by reviewers</li>
<li>Keep your <strong>.gitignore</strong> file up-to-date</li>
</ol>
<h3 id='code-style'>Code style</h3>
<ol>
<li>Use spaces, 1 tab size equals to 4</li>
<li>Don&#39;t use wildcard imports</li>
<li>Use Intellij&#39;s autoreformatting, import optimization and rearrange option</li>
<li>Fix all Codacy issues</li>
<li>If Codacy issue shouldn&#39;t be resolved, use warning suppression</li>
<li>Use semantic names for classes , variables, methods and so on. Use full versions of words (e.g. <em>human</em> instead of <em>h</em> and so on). 
Common abbreviations (such as id, uid and so on are allowed). 
Use meaningful names, for example instead of <em>accountList</em> use <em>accounts</em> and so on.</li>
<li>Remove double empty lines, use empty lines only when it makes sense (in addition to to autoreformatting)</li>
<li>Use line breaks correctly: (PROVIDE_SAMPLES)</li>
<li>Limit line width to 100-120 symbols (including indents) </li>
<li>Use chaining style, recommended sample:
<code>java 
object
.method(1)
.otherMethod();
</code></li>
<li>Always use <code>{}</code> braces even for empty <code>if</code>, <code>for</code>, etc.</li>
<li>Follow the sequence of keywords: public protected private abstract default static final transient volatile synchronized native strictfp</li>
<li>Don&#39;t use conveniences such as <code>mValue</code>, <code>_value</code> and alike. <code>__</code> is acceptable as an unused argument placeholder of test method data provider.</li>
<li>Feel free to smart refactor your code.</li>
<li>Feel free to use <code>?:</code></li>
<li>Use <code>UpperCamelCase</code> naming style for classes, <code>lowerCamelCase</code> for fields and methods, <code>UPPERCASE</code> for enums, <code>lowercase</code> for packages</li>
<li>Always use <code>@Override</code> annotation</li>
<li>Don&#39;t leave <code>catch{}</code> blocks empty, instead use relevant exceptions with messages</li>
<li>Try to not use global variables</li>
<li>Use variables for integer, string and other values (for instance, <code>int piNumber=3.14; println(piNumber)</code>)</li>
<li>Write comments in English</li>
<li>It&#39;s better to write code than create a task to write code</li>
<li>It&#39;s better to create a task and a <code>TODO</code> with this task number than to simply write <code>TODO</code> in code</li>
<li>It&#39;s better to write a simple understandable <code>TODO</code> in code than to tell someone about a problem</li>
<li>It&#39;s better to tell someone about a problem than to not take action at all</li>
<li>Always end your files with a newline</li>
</ol>
<h1 id='jdi-dark-generators'>JDI Dark Generators</h1><h2 id='rest-objects-generation-from-swagger'>REST objects generation from Swagger</h2>
<p>You can generate automatically maven project with service object classes, model classes and also test classes based on a swagger scheme.</p>

<ol>
<li>Clone <a href="https://github.com/jdi-testing/jdi-dark-generator" target="_blank">JDI Dark generator</a><br></li>
<li>Build JDI Dark generator by command <strong>mvn clean package</strong><br></li>
<li>Run this command for auto-generation:<br></li>
</ol>

<p><code>
  java -jar jdi-dark-rest-generator/target/DarkGenerator.jar generate -i &lt;specification swagger file&gt; -o &lt;output directory&gt; -p &lt;package&gt;
</code></p>

<p>For example, for <a href="http://petstore.swagger.io/v2/swagger.json" target="_blank">the petshop swagger scheme</a> after running the command  </p>

<p><code>
 java -jar jdi-dark-rest-generator/target/DarkGenerator.jar generate -i http://petstore.swagger.io/v2/swagger.json -o ../sample -p com.petshop  
</code></p>

<p>the project with the following structure will be created:<br>
<img src="images/generated-structure.png" alt="project structure" width="50%" height="50%"/></p>

<p><strong>Options</strong></p>

<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>-i &lt;spec file&gt; or --input-spec &lt;spec file&gt;</strong></td>
<td>location file specification</td>
</tr>
<tr>
<td><strong>-o &lt;output directory&gt; or --output &lt;output directory&gt;</strong></td>
<td>project directory name</td>
</tr>
<tr>
<td><strong>--invoker-package &lt;invoker package&gt; or -p&lt;invoker package&gt;</strong></td>
<td>name main package</td>
</tr>
<tr>
<td><strong>--model-package &lt;model package&gt;</strong></td>
<td>name package for model classes</td>
</tr>
<tr>
<td><strong>--api-package &lt;api package&gt;</strong></td>
<td>name package for api classes</td>
</tr>
<tr>
<td><strong>-a &lt;authorization&gt; or --auth &lt;authorization&gt;</strong></td>
<td>add auth data in header(specify in key:value format)</td>
</tr>
<tr>
<td><strong>--artifact-id &lt;artifact id&gt;</strong></td>
<td>project artifact id</td>
</tr>
<tr>
<td><strong>--artifact-version &lt;artifact version&gt;</strong></td>
<td>project artifact version</td>
</tr>
<tr>
<td><strong>--group-id &lt;group id&gt;</strong></td>
<td>project group id</td>
</tr>
</tbody></table>
<h2 id='soap-objects-generation-from-wsdl'>SOAP objects generation from WSDL</h2>
<p>You can generate automatically JDI Dark SOAP object classes based on your WSDL scheme.</p>

<ol>
<li>Clone <a href="https://github.com/jdi-testing/jdi-dark-generator" target="_blank">JDI Dark generator</a><br></li>
<li>Build JDI Dark generator by command <strong>mvn clean package</strong><br></li>
<li><p>Modify pom.xml in jdi-dark-soap-generator: </p>

<ul>
<li>set wsdlUrls, for example:
<br />
<code>
&lt;wsdlUrls&gt;
&lt;wsdlUrl&gt;https://speller.yandex.net/services/spellservice?WSDL&lt;/wsdlUrl&gt;
&lt;/wsdlUrls&gt;
</code></li>
<li>set the package name, for example:
<br />
<code>
&lt;packageName&gt;com.epam.jdi.soap.net.yandex.speller.services.spellservice&lt;/packageName&gt;
</code></li>
</ul></li>
<li><p>Run maven plugin jaxws:wsimport</p></li>
</ol>

<p>The project with the following structure is created:<br>
<img src="images/generated_soap_structure.png" alt="project structure" width="50%" height="50%"/></p>

<p><strong>Note:</strong> A few excessive files are autogenerated. Use service objects&#39; files for creating JDI Dark SOAP methods.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
